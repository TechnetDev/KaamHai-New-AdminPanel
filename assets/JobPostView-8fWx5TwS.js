import{r as m,j as e,B as t,L as te}from"./index-B9EhzTRJ.js";import{b as je,c as Ne,p as T,u as be,d as fe}from"./user-MtZiRSs5.js";const ue=({post:s,paymentDetail:d})=>{var g,p,k,f;console.log(d==null?void 0:d.paymentLink);const[x,u]=m.useState(d==null?void 0:d.paymentLink),[o,c]=m.useState(!1),[S,b]=m.useState(!1),[h,v]=m.useState(!1);m.useEffect(()=>{d!=null&&d.paymentLink&&u(d.paymentLink)},[d==null?void 0:d.paymentLink]);const j=async()=>{try{await navigator.clipboard.writeText(x),c(!0),t.success("Payment link copied to clipboard!"),setTimeout(()=>{c(!1)},2e3)}catch(i){console.error("Failed to copy payment link:",i),t.error("Failed to copy payment link")}},y=()=>{b(!0)},I=async()=>{v(!0);try{console.log("Payment link generation confirmed"),b(!1);const i=await je({jobPostId:s==null?void 0:s._id});console.log(i,"ressss"),i.success?(t.success(`${i==null?void 0:i.title}`),u(i==null?void 0:i.paymentLink)):t.error(`${i==null?void 0:i.title}`)}catch(i){console.log(i),t.error(`${i.message||"Failed to generate payment link"}`)}finally{v(!1)}},l=()=>{b(!1)};return e.jsx("div",{className:"container-fluid bg-light min-vh-02 py-5",children:e.jsx("div",{className:"row justify-content-center",children:e.jsxs("div",{className:"col-lg-8 col-xl-12",children:[x&&e.jsx("div",{className:"card shadow-lg mb-4",children:e.jsxs("div",{className:"card-body p-4",children:[e.jsxs("div",{className:"d-flex align-items-center mb-4",children:[e.jsx("div",{className:"bg-primary bg-opacity-10 rounded-circle p-3 me-3",children:e.jsx("i",{className:"fas fa-link text-primary"})}),e.jsx("h5",{className:"card-title mb-0 fw-semibold",children:"Payment Link"})]}),e.jsxs("div",{className:"position-relative mb-3",children:[e.jsxs("div",{className:"input-group",children:[e.jsx("input",{type:"text",className:"form-control bg-light border-2",value:(d==null?void 0:d.paymentLink)||x,readOnly:!0,style:{fontFamily:"monospace",fontSize:"14px",paddingRight:"50px"}}),e.jsx("button",{className:`btn ${o?"btn-success":"btn-outline-secondary"}`,type:"button",onClick:j,title:o?"Copied!":"Copy payment link",children:o?e.jsx("i",{className:"fas fa-check"}):e.jsx("i",{className:"fas fa-copy"})})]}),o&&e.jsxs("div",{className:"alert alert-success alert-dismissible fade show mt-2 py-2",role:"alert",children:[e.jsx("i",{className:"fas fa-check-circle me-2"}),e.jsx("small",{children:"Payment link copied to clipboard!"})]})]}),e.jsx("div",{className:"border-top pt-3",children:e.jsxs("div",{className:"d-flex flex-wrap gap-2",children:[e.jsxs("button",{onClick:j,className:"btn btn-primary btn-sm",children:[e.jsx("i",{className:"fas fa-copy me-1"}),"Copy Link"]}),e.jsxs("a",{href:x,target:"_blank",rel:"noopener noreferrer",className:"btn btn-outline-secondary btn-sm",children:[e.jsx("i",{className:"fas fa-external-link-alt me-1"}),"Open Link"]}),e.jsxs("a",{href:`https://wa.me/?text=${encodeURIComponent(`Payment Link: ${x}`)}`,target:"_blank",rel:"noopener noreferrer",className:"btn btn-success btn-sm",children:[e.jsx("i",{className:"fab fa-whatsapp me-1"}),"Share via WhatsApp"]}),e.jsxs("button",{onClick:y,className:"btn btn-warning btn-sm",disabled:h,children:[e.jsx("i",{className:"fas fa-sync-alt me-1"}),"Regenerate Link"]})]})})]})}),!x&&e.jsx("div",{className:"card shadow-lg mb-4",children:e.jsxs("div",{className:"card-body p-4",children:[e.jsxs("div",{className:"d-flex align-items-center mb-4",children:[e.jsx("div",{className:"bg-primary bg-opacity-10 rounded-circle p-3 me-3",children:e.jsx("i",{className:"fas fa-credit-card text-primary"})}),e.jsx("h5",{className:"card-title mb-0 fw-semibold",children:"Payment Link"})]}),e.jsxs("div",{className:"text-center py-4",children:[e.jsx("i",{className:"fas fa-link text-muted fa-3x mb-3"}),e.jsx("h6",{className:"text-muted mb-3",children:"No payment link generated yet"}),e.jsx("p",{className:"text-muted small mb-4",children:"Generate a secure payment link for this job posting"}),e.jsx("button",{className:"btn btn-primary",onClick:y,disabled:h,children:h?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"Generating Link..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-plus-circle me-2"}),"Create Payment Link"]})})]})]})}),S&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"modal-backdrop fade show",style:{zIndex:1040}}),e.jsx("div",{className:"modal fade show d-block",tabIndex:"-1",style:{zIndex:1050},children:e.jsx("div",{className:"modal-dialog modal-dialog-centered",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h5",{className:"modal-title",children:[e.jsx("i",{className:"fas fa-exclamation-triangle text-warning me-2"}),"Confirm Payment Link Generation"]}),e.jsx("button",{type:"button",className:"btn-close",onClick:l})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("i",{className:"fas fa-credit-card text-primary fa-3x mb-3"}),e.jsx("h6",{children:"Generate Payment Link?"}),e.jsx("p",{className:"text-muted",children:x?"This will generate a new payment link and replace the existing one.":"This will create a secure payment link for this job posting."})]}),e.jsxs("div",{className:"bg-light p-3 rounded border",children:[e.jsx("h6",{className:"mb-3",children:"Payment Summary:"}),e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-12 mt-2",children:[e.jsx("small",{className:"text-muted",children:"Business Owner Name:"}),e.jsx("div",{className:"fw-medium",children:((g=s==null?void 0:s.userId)==null?void 0:g.name)||"N/A"})]}),e.jsxs("div",{className:"col-12 mt-2",children:[e.jsx("small",{className:"text-muted",children:"Number:"}),e.jsx("div",{className:"fw-medium ",children:((p=s==null?void 0:s.userId)==null?void 0:p.phoneNumber)||0})]}),e.jsxs("div",{className:"col-12 mt-2",children:[e.jsx("small",{className:"text-muted",children:"Company:"}),e.jsx("div",{className:"fw-medium",children:((k=s==null?void 0:s.companyId)==null?void 0:k.companyName)||"N/A"})]}),e.jsxs("div",{className:"col-12 mt-2",children:[e.jsx("small",{className:"text-muted",children:"Job Title:"}),e.jsx("div",{className:"fw-medium",children:((f=s==null?void 0:s.jobTitle)==null?void 0:f.title)||"N/A"})]})]})]}),e.jsx("div",{className:"alert alert-info mt-3 mb-0",children:e.jsxs("small",{children:[e.jsx("i",{className:"fas fa-info-circle me-1"}),"The payment link will be secure and can be shared with clients for payment processing."]})})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsxs("button",{type:"button",className:"btn btn-secondary",onClick:l,disabled:h,children:[e.jsx("i",{className:"fas fa-times me-1"}),"Cancel"]}),e.jsx("button",{type:"button",className:"btn btn-primary",onClick:I,disabled:h,children:h?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-check me-1"}),"Confirm & Generate"]})})]})]})})})]})]})})})},ge=({post:s,setListPage:d,setViewPage:x})=>{var P,L,A,$,_,G,U,F,R,J,D,O,E,B,z,M,V,H,W,K,Y,q,Q,X,Z,ee,se,ae,le,ie,ce,ne;m.useState();const[u,o]=m.useState(!1),[c,S]=m.useState(null);console.log(s);const[b,h]=m.useState(),[v,j]=m.useState(!1),[y,I]=m.useState(!0),[l,g]=m.useState({id:s==null?void 0:s._id,minSalary:(P=s==null?void 0:s.salaryRange)==null?void 0:P.minSalary,maxSalary:(L=s==null?void 0:s.salaryRange)==null?void 0:L.maxSalary,salaryType:s==null?void 0:s.salaryType,employmentType:s==null?void 0:s.employmentType,jobDescription:s==null?void 0:s.jobDescription,preferredGender:s==null?void 0:s.preferredGender,jobType:s==null?void 0:s.jobType});m.useEffect(()=>{p()},[]);const p=async()=>{var a,n;try{const r=await Ne({jobPostId:s._id});console.log(r,"resssponseeeeee"),r.success&&(h((a=r==null?void 0:r.data)==null?void 0:a.findPaymentDetails),((n=r==null?void 0:r.data)==null?void 0:n.paid)===!0&&(console.log("hererere"),I(!1)))}catch(r){t.error(`${r.message}`)}},k=async()=>{try{const a=await be(l);a.success?t.success(`${a.title}`):t.error(`${a.title}`)}catch(a){t.error(`${a.message}`)}console.log("Form Data:",l),j(!1)},f=()=>{d(!0),x(!1)},i=a=>{const{name:n,value:r}=a.target;g(C=>({...C,[n]:r}))},N=a=>a?(typeof a=="string"?parseFloat(a.replace(/,/g,"")):a).toLocaleString("en-IN"):"N/A",w=a=>a?new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",xe=async a=>{const n=s.applicants.applicants.find(r=>r.userId._id===a);n&&(S(n.userId),o(!0))},oe=a=>[{key:"isAadharphotoVerified",label:"Aadhar"},{key:"isPhotoVerified",label:"Photo"}].map(r=>({...r,status:a[r.key]||!1})),he=async()=>{try{const a=await fe({id:s==null?void 0:s._id});a.success?t.success(`${a.title}`):t.error(`${a.title}`)}catch(a){t.error(`${a.message}`)}};return e.jsxs("div",{className:"page-wrapper",children:[e.jsxs("div",{className:"content container-fluid",children:[e.jsx("div",{className:"page-header",children:e.jsxs("div",{className:"row align-items-center",children:[e.jsx("div",{className:"col",children:e.jsxs("ul",{className:"breadcrumb",children:[e.jsx("li",{className:"breadcrumb-item",children:e.jsx(te,{onClick:f,children:"Job Posts"})}),e.jsx("li",{className:"breadcrumb-item active",children:s==null?void 0:s._id})]})}),e.jsx("div",{className:"col",children:e.jsx("button",{className:"btn btn-danger",onClick:he,children:"Update To Top"})}),e.jsx("div",{className:"col-auto",children:e.jsxs(te,{onClick:f,className:"btn btn-primary btn-sm",children:[e.jsx("i",{className:"fas fa-arrow-left me-1"})," Back to List"]})})]})}),s?e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-lg-8",children:[e.jsx("div",{className:"card mb-4",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"d-flex align-items-center mb-4",children:[e.jsx("img",{src:((A=s.companyId)==null?void 0:A.companyLogo)||T,alt:(($=s.companyId)==null?void 0:$.companyName)||"Company",className:"me-3 rounded-circle",width:"80",height:"80",style:{objectFit:"cover"}}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-1",children:((_=s.jobTitle)==null?void 0:_.title)||"Untitled Position"}),e.jsxs("div",{className:"d-flex align-items-center flex-wrap",children:[e.jsxs("span",{className:"me-3 text-dark",children:[e.jsx("i",{className:"fas fa-building me-1 text-primary"}),((G=s.companyId)==null?void 0:G.companyName)||"Unknown Company"]}),e.jsxs("span",{className:"me-3 text-dark",children:[e.jsx("i",{className:"fas fa-map-marker-alt me-1 text-danger"}),(U=s.branchData)!=null&&U.address?s.branchData.address.split(",").slice(0,2).join(","):"Location not specified"]}),e.jsxs("span",{className:"text-dark",children:[e.jsx("i",{className:"fas fa-calendar-alt me-1 text-info"}),"Posted: ",w(s.createdAt)]})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("span",{className:`badge bg-${s.status==="Open"?"success":"secondary"} me-2`,children:s.status}),e.jsx("span",{className:`badge bg-${s.paymentDone?"success":"warning text-dark"} me-2`,children:s.paymentDone?"Payment Completed":"Payment Pending"}),s.urgency&&e.jsxs("span",{className:`badge bg-${s.urgency==="Immediate"?"danger":s.urgency==="In a week"?"warning text-dark":"info"} me-2`,children:[e.jsx("i",{className:"fas fa-bolt me-1"}),s.urgency]})]})]})]}),e.jsxs("div",{className:"job-details-section mb-4",children:[e.jsxs("h5",{className:"section-title border-bottom pb-2 mb-3",children:[e.jsx("i",{className:"fas fa-info-circle me-2"}),"Job Description"]}),e.jsx("p",{children:l.jobDescription||s.jobDescription||"No description provided."})]}),e.jsxs("div",{className:"job-details-section mb-4",children:[e.jsxs("h5",{className:"section-title border-bottom pb-2 mb-3",children:[e.jsx("i",{className:"fas fa-clipboard-list me-2"}),"Key Details"]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6 mb-3",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"feature-icon bg-light-primary rounded-circle p-2 me-3",children:e.jsx("i",{className:"fas fa-briefcase text-primary"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted small",children:"Job Type"}),e.jsx("div",{className:"fw-medium",children:(l==null?void 0:l.jobType)||s.jobType||"Not specified"})]})]})}),e.jsx("div",{className:"col-md-6 mb-3",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"feature-icon bg-light-success rounded-circle p-2 me-3",children:e.jsx("i",{className:"fas fa-user-tie text-success"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted small",children:"Employment Type"}),e.jsx("div",{className:"fw-medium",children:(l==null?void 0:l.employmentType)||s.employmentType||"Not specified"})]})]})}),e.jsx("div",{className:"col-md-6 mb-3",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"feature-icon bg-light-danger rounded-circle p-2 me-3",children:e.jsx("i",{className:"fas fa-venus-mars text-danger"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted small",children:"Preferred Gender"}),e.jsx("div",{className:"fw-medium",children:(l==null?void 0:l.preferredGender)||(s==null?void 0:s.preferredGender)})]})]})}),e.jsx("div",{className:"col-md-6 mb-3",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"feature-icon bg-light-warning rounded-circle p-2 me-3",children:e.jsx("i",{className:"fas fa-bolt text-warning"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted small",children:"Urgency"}),e.jsx("div",{className:"fw-medium",children:s.urgency||"Not specified"})]})]})})]})]}),e.jsxs("div",{className:"job-details-section mb-4",children:[e.jsxs("h5",{className:"section-title border-bottom pb-2 mb-3",children:[e.jsx("i",{className:"fas fa-money-bill-wave me-2"}),"Salary Information"]}),e.jsx("div",{className:"salary-card bg-light p-3 rounded",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"d-block text-muted mb-1",children:["Salary Range (",(l==null?void 0:l.salaryType)||s.salaryType,")"]}),e.jsxs("h4",{className:"mb-0",children:["₹",N(l==null?void 0:l.minSalary)||N(((F=s.salaryRange)==null?void 0:F.minSalary)||0)," - ₹",N(l==null?void 0:l.maxSalary)||N(((R=s.salaryRange)==null?void 0:R.maxSalary)||0)]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"d-block text-muted mb-1",children:"Payment Status"}),e.jsx("span",{className:`badge ${s.paymentDone?"bg-success":"bg-warning text-dark"} px-3 py-2`,children:s.paymentDone?"Paid":"Unpaid"})]})]})}),s.allowances&&s.allowances.length>0&&e.jsxs("div",{className:"mt-3",children:[e.jsx("h6",{className:"mb-2",children:"Additional Allowances:"}),e.jsx("div",{className:"d-flex flex-wrap",children:s.allowances.map((a,n)=>e.jsxs("span",{className:"badge bg-light text-dark m-1 p-2",children:[e.jsx("i",{className:"fas fa-plus-circle text-success me-1"}),a]},n))})]})]}),s.shareLink&&e.jsxs("div",{className:"job-details-section",children:[e.jsxs("h5",{className:"section-title border-bottom pb-2 mb-3",children:[e.jsx("i",{className:"fas fa-share-alt me-2"}),"Share Job"]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"input-group",children:[e.jsx("input",{type:"text",className:"form-control",value:s.shareLink,readOnly:!0}),e.jsx("button",{className:"btn btn-outline-secondary",type:"button",onClick:()=>navigator.clipboard.writeText(s.shareLink),children:e.jsx("i",{className:"fas fa-copy"})})]}),e.jsx("div",{className:"ms-3",children:e.jsxs("a",{href:`https://wa.me/?text=${encodeURIComponent(`Check out this job: ${(J=s.jobTitle)==null?void 0:J.title} at ${(D=s.companyId)==null?void 0:D.companyName}. ${s.shareLink}`)}`,target:"_blank",rel:"noopener noreferrer",className:"btn btn-success",children:[e.jsx("i",{className:"fab fa-whatsapp me-1"}),"Share"]})})]}),s.shareImg&&e.jsx("div",{className:"mt-3 text-center",children:e.jsx("img",{src:s.shareImg,alt:"Job Share Image",className:"img-fluid rounded",style:{maxHeight:"200px"}})})]})]})}),y&&e.jsx(ue,{post:s,paymentDetail:b}),e.jsxs("div",{className:"card mb-4",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h5",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-users me-2"}),"Applicants"]})}),e.jsxs("div",{className:"card-body",children:[e.jsx("div",{className:"applicants-summary mb-3",children:e.jsxs("div",{className:"row g-3 text-center",children:[e.jsx("div",{className:"col-md-3 col-sm-6",children:e.jsxs("div",{className:"p-3 border rounded bg-light",children:[e.jsx("h3",{className:"mb-1",children:((E=(O=s.applicants)==null?void 0:O.applicants)==null?void 0:E.length)||0}),e.jsx("p",{className:"mb-0 text-muted",children:"Total Applicants"})]})}),e.jsx("div",{className:"col-md-3 col-sm-6",children:e.jsxs("div",{className:"p-3 border rounded bg-light",children:[e.jsx("h3",{className:"mb-1",children:s.hiredNumber||0}),e.jsx("p",{className:"mb-0 text-muted",children:"Hired"})]})}),e.jsx("div",{className:"col-md-3 col-sm-6",children:e.jsxs("div",{className:"p-3 border rounded bg-light",children:[e.jsx("h3",{className:"mb-1",children:s.jobOfferedNumber||0}),e.jsx("p",{className:"mb-0 text-muted",children:"Offers Made"})]})}),e.jsx("div",{className:"col-md-3 col-sm-6",children:e.jsxs("div",{className:"p-3 border rounded bg-light",children:[e.jsx("h3",{className:"mb-1",children:s.numberOfAvailableHiring||0}),e.jsx("p",{className:"mb-0 text-muted",children:"Available Positions"})]})})]})}),(B=s.applicants)!=null&&B.applicants&&s.applicants.applicants.length>0?e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-bordered table-hover",children:[e.jsx("thead",{className:"table-light",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Applicant"}),e.jsx("th",{children:"Applied Date"}),e.jsx("th",{children:"Status"})]})}),e.jsx("tbody",{children:s.applicants.applicants.map((a,n)=>{var r,C,re,de;return e.jsxs("tr",{onClick:()=>{var me;return xe((me=a==null?void 0:a.userId)==null?void 0:me._id)},children:[e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("img",{src:((r=a.userId)==null?void 0:r.profile)||T,alt:"",className:"rounded-circle me-2",width:"40",height:"40"}),e.jsxs("div",{children:[e.jsx("h6",{className:"mb-0",children:((re=(C=a.userId)==null?void 0:C.basicDetails)==null?void 0:re.name)||"Unnamed User"}),e.jsx("small",{children:((de=a.userId)==null?void 0:de.phoneNumber)||"No phone"})]})]})}),e.jsx("td",{children:w(a.appliedAt)}),e.jsx("td",{children:e.jsx("span",{className:`badge ${a.status==="Hired"?"bg-success":a.status==="Rejected"?"bg-danger":a.status==="Shortlisted"?"bg-info":"bg-secondary"}`,children:a.status||"Applied"})})]},n)})})]})}):e.jsxs("div",{className:"text-center py-5",children:[e.jsx("i",{className:"fas fa-users text-muted fa-3x mb-3"}),e.jsx("h5",{children:"No Applicants Yet"}),e.jsx("p",{className:"text-muted",children:"This job hasn't received any applications yet."})]})]})]})]}),e.jsxs("div",{className:"col-lg-4",children:[e.jsxs("div",{className:"card mb-4",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h5",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-building me-2"}),"Company Information"]})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"text-center mb-3",children:[e.jsx("img",{src:((z=s.companyId)==null?void 0:z.companyLogo)||T,alt:((M=s.companyId)==null?void 0:M.companyName)||"Company",className:"rounded-circle mb-3",width:"100",height:"100",style:{objectFit:"cover"}}),e.jsx("h5",{children:((V=s.companyId)==null?void 0:V.companyName)||"Unknown Company"}),e.jsx("p",{className:"text-muted",children:((H=s.companyId)==null?void 0:H.companyRole)||"Business Owner"})]}),e.jsxs("div",{className:"company-details",children:[e.jsxs("div",{className:"detail-item d-flex mb-3",children:[e.jsx("div",{className:"detail-icon me-3",children:e.jsx("i",{className:"fas fa-building text-primary"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted small",children:"Company Id"}),e.jsx("div",{children:((W=s.companyId)==null?void 0:W._id)||"Unknown"})]})]}),e.jsxs("div",{className:"detail-item d-flex mb-3",children:[e.jsx("div",{className:"detail-icon me-3",children:e.jsx("i",{className:"fas fa-user text-primary"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted small",children:"Business Owner"}),e.jsx("div",{children:((K=s.userId)==null?void 0:K.name)||"Unknown"})]})]}),e.jsxs("div",{className:"detail-item d-flex mb-3",children:[e.jsx("div",{className:"detail-icon me-3",children:e.jsx("i",{className:"fas fa-phone text-primary"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted small",children:"Contact Number"}),e.jsx("div",{children:((Y=s.userId)==null?void 0:Y.phoneNumber)||"Unknown"})]}),e.jsxs("div",{className:"mx-3",children:[e.jsx("div",{className:"text-muted small",children:"userId"}),e.jsx("div",{children:((q=s.userId)==null?void 0:q._id)||"Unknown"})]})]}),e.jsxs("div",{className:"detail-item d-flex mb-3",children:[e.jsx("div",{className:"detail-icon me-3",children:e.jsx("i",{className:"fas fa-map-marker-alt text-primary"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted small",children:"Location"}),e.jsx("div",{children:((Q=s.userId)==null?void 0:Q.currentCity)||"Not specified"})]})]}),e.jsxs("div",{className:"detail-item d-flex",children:[e.jsx("div",{className:"detail-icon me-3",children:e.jsx("i",{className:"fas fa-calendar-alt text-primary"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted small",children:"Registered"}),e.jsx("div",{children:w((X=s.userId)==null?void 0:X.createdAt)})]})]})]})]})]}),e.jsxs("div",{className:"card mb-4",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h5",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-file-invoice me-2"}),"GST Information"]})}),e.jsx("div",{className:"card-body",children:s.branchData?e.jsxs("div",{children:[e.jsx("div",{className:"text-center mb-3",children:e.jsxs("div",{className:`badge ${s.branchData.gst_in_status==="Active"?"bg-success":"bg-danger"} p-2`,children:[e.jsx("i",{className:`fas ${s.branchData.gst_in_status==="Active"?"fa-check-circle":"fa-times-circle"} me-1`}),s.branchData.gst_in_status]})}),e.jsxs("div",{className:"gst-details",children:[e.jsxs("div",{className:"detail-item d-flex mb-3",children:[e.jsx("div",{className:"detail-icon me-3",children:e.jsx("i",{className:"fas fa-file-invoice text-primary"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted small",children:"Branch Id"}),e.jsx("div",{className:"fw-medium",children:s.branchData._id})]})]}),e.jsxs("div",{className:"detail-item d-flex mb-3",children:[e.jsx("div",{className:"detail-icon me-3",children:e.jsx("i",{className:"fas fa-receipt text-primary"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted small",children:"GSTIN"}),e.jsx("div",{className:"fw-medium",children:s.branchData.GSTIN})]})]}),e.jsxs("div",{className:"detail-item d-flex mb-3",children:[e.jsx("div",{className:"detail-icon me-3",children:e.jsx("i",{className:"fas fa-building text-primary"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted small",children:"Legal Business Name"}),e.jsx("div",{children:s.branchData.legal_name_of_business})]})]}),e.jsxs("div",{className:"detail-item d-flex mb-3",children:[e.jsx("div",{className:"detail-icon me-3",children:e.jsx("i",{className:"fas fa-map-marked-alt text-primary"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted small",children:"Address"}),e.jsx("div",{children:s.branchData.address})]})]}),e.jsxs("div",{className:"detail-item d-flex",children:[e.jsx("div",{className:"detail-icon me-3",children:e.jsx("i",{className:"fas fa-calendar-check text-primary"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted small",children:"Registration Date"}),e.jsx("div",{children:w(s.branchData.date_of_registration)})]})]})]}),e.jsxs("div",{className:"mt-3 d-flex flex-wrap",children:[s.branchData.isLinked&&e.jsxs("span",{className:"badge bg-info m-1",children:[e.jsx("i",{className:"fas fa-link me-1"})," Linked"]}),s.branchData.valid&&e.jsxs("span",{className:"badge bg-success m-1",children:[e.jsx("i",{className:"fas fa-check-circle me-1"})," Valid"]}),s.branchData.isSecondaryVerified&&e.jsxs("span",{className:"badge bg-primary m-1",children:[e.jsx("i",{className:"fas fa-shield-alt me-1"})," Secondary Verified"]})]})]}):e.jsxs("div",{className:"text-center py-3",children:[e.jsx("i",{className:"fas fa-exclamation-circle text-warning fa-3x mb-3"}),e.jsx("h6",{children:"No GST Information Available"}),e.jsx("p",{className:"text-muted small mb-0",children:"GST details haven't been added for this job posting."})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h5",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-cogs me-2"}),"Actions"]})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"d-grid gap-2",children:[e.jsxs("button",{className:"btn btn-primary",onClick:()=>j(!0),children:[e.jsx("i",{className:"fas fa-edit me-1"})," Edit Job Post"]}),v&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"modal-backdrop fade show",style:{zIndex:1040}}),e.jsx("div",{className:"modal fade show d-block",tabIndex:"-1",style:{zIndex:1050},children:e.jsx("div",{className:"modal-dialog modal-dialog-centered modal-lg",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:"Edit Job Post"}),e.jsx("button",{type:"button",className:"btn-close",onClick:()=>j(!1)})]}),e.jsx("div",{className:"modal-body",children:e.jsx("form",{children:e.jsxs("div",{className:"row g-3",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:"Salary From"}),e.jsx("input",{type:"number",className:"form-control",name:"minSalary",value:l.minSalary,onChange:a=>i(a),placeholder:"e.g. 10000"})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:"Salary To"}),e.jsx("input",{type:"number",className:"form-control",name:"maxSalary",value:l.maxSalary,onChange:a=>i(a),placeholder:"e.g. 20000"})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:"Salary Type"}),e.jsx("input",{type:"text",className:"form-control",name:"salaryType",value:l.salaryType,onChange:a=>i(a),placeholder:"Monthly / Weekly / Daily"})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:"Job Type"}),e.jsx("input",{type:"text",className:"form-control",name:"jobType",value:l.jobType,onChange:a=>i(a),placeholder:"Contract / "})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:"Employment Type"}),e.jsx("input",{type:"text",className:"form-control",name:"employmentType",value:l.employmentType,onChange:a=>i(a),placeholder:"Part-Time / Full-Time "})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:"preferred Gender"}),e.jsx("input",{type:"text",className:"form-control",name:"preferredGender",value:l.preferredGender,onChange:a=>i(a),placeholder:"Part-Time / Full-Time "})]}),e.jsxs("div",{className:"col-12",children:[e.jsx("label",{className:"form-label",children:"Description"}),e.jsx("textarea",{className:"form-control",name:"jobDescription",rows:"3",value:l.jobDescription,onChange:a=>i(a),placeholder:"Job description..."})]})]})})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>j(!1),children:"Cancel"}),e.jsx("button",{type:"button",className:"btn btn-primary",onClick:k,children:"Save Changes"})]})]})})})]}),(s.status==="Open",""),e.jsxs("a",{className:"btn btn-info",href:`https://wa.me/?text=${encodeURIComponent(`Check out this job: ${(Z=s.jobTitle)==null?void 0:Z.title} at ${(ee=s.companyId)==null?void 0:ee.companyName}. ${s.shareLink}`)}`,target:"_blank",rel:"noopener noreferrer",children:[e.jsx("i",{className:"fas fa-share-alt me-1"})," Share Job"]})]})})]})]})]}):e.jsx("div",{className:"alert alert-warning",children:"No job post data available. Please go back and select a job."})]}),u&&c&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"modal-backdrop fade show",style:{zIndex:1040}}),e.jsx("div",{className:"modal fade show d-block",tabIndex:"-1",style:{zIndex:1050},children:e.jsx("div",{className:"modal-dialog modal-dialog-centered modal-xl",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h5",{className:"modal-title",children:[e.jsx("i",{className:"fas fa-user-circle me-2"}),"Applicant Details"]}),e.jsx("button",{type:"button",className:"btn-close",onClick:()=>o(!1)})]}),e.jsx("div",{className:"modal-body",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"user-profile-section mb-4",children:[e.jsxs("div",{className:"text-center mb-3",children:[e.jsx("img",{src:c.profile||"https://via.placeholder.com/120x120",alt:"User Profile",style:{height:100,width:100,borderRadius:90},className:"profile-image mb-3"}),e.jsx("h4",{className:"mb-1",children:(se=c.basicDetails)==null?void 0:se.name}),e.jsx("p",{className:"text-muted",children:c.phoneNumber})]}),e.jsxs("div",{className:"verification-section mb-4",children:[e.jsxs("h6",{className:"section-title mb-3",children:[e.jsx("i",{className:"fas fa-shield-check me-2"}),"Verification Status"]}),e.jsx("div",{className:"verification-grid",children:oe(c).map((a,n)=>e.jsx("div",{className:"verification-item",children:e.jsxs("span",{className:`badge ${a.status,"bg-success"} me-2`,children:[e.jsx("i",{className:`fas ${a.status,"fa-check"} me-1`}),a.label]})},n))})]}),e.jsxs("div",{className:"personal-details mb-4",children:[e.jsxs("h6",{className:"section-title mb-3",children:[e.jsx("i",{className:"fas fa-id-card me-2"}),"Personal Information"]}),e.jsxs("div",{className:"details-list",children:[e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{className:"detail-label",children:"Date of Birth:"}),e.jsx("span",{className:"detail-value",children:(ae=c.basicDetails)==null?void 0:ae.dateOfBirth})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{className:"detail-label",children:"Gender:"}),e.jsx("span",{className:"detail-value",children:(le=c.basicDetails)==null?void 0:le.gender})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{className:"detail-label",children:"Address:"}),e.jsx("span",{className:"detail-value",children:(ie=c.basicDetails)==null?void 0:ie.permenantAdress})]})]})]})]})}),e.jsxs("div",{className:"col-md-6",children:[c.workPreference&&e.jsxs("div",{className:"work-preferences mb-4",children:[e.jsxs("h6",{className:"section-title mb-3",children:[e.jsx("i",{className:"fas fa-briefcase me-2"}),"Work Preferences"]}),e.jsxs("div",{className:"preference-grid",children:[e.jsxs("div",{className:"preference-item",children:[e.jsx("label",{children:"Preferred Roles:"}),e.jsx("div",{className:"preference-value",children:(ce=c.workPreference.jobRole)==null?void 0:ce.map((a,n)=>e.jsx("span",{className:"badge bg-primary me-1 mb-1",children:a},n))})]}),e.jsxs("div",{className:"preference-item",children:[e.jsx("label",{children:"Locations:"}),e.jsx("div",{className:"preference-value",children:(ne=c.workPreference.jobLocation)==null?void 0:ne.map((a,n)=>e.jsx("span",{className:"badge bg-info me-1 mb-1",children:a},n))})]}),e.jsxs("div",{className:"preference-item",children:[e.jsx("label",{children:"Job Type:"}),e.jsx("div",{className:"preference-value",children:e.jsx("span",{className:"badge bg-success",children:c.workPreference.jobType})})]}),e.jsxs("div",{className:"preference-item",children:[e.jsx("label",{children:"Expected Salary:"}),e.jsx("div",{className:"preference-value",children:e.jsxs("span",{className:"salary-range",children:["₹",N(c.workPreference.minSalaryAmount)," - ₹",N(c.workPreference.maxSalaryAmount),"(",c.workPreference.salaryType,")"]})})]})]})]}),c.experience&&c.experience.length>0&&e.jsxs("div",{className:"experience-section mb-4",children:[e.jsxs("h6",{className:"section-title mb-3",children:[e.jsx("i",{className:"fas fa-history me-2"}),"Work Experience"]}),e.jsx("div",{className:"experience-list",children:c.experience.map((a,n)=>e.jsxs("div",{className:"experience-item",children:[e.jsxs("div",{className:"exp-header",children:[e.jsx("h6",{className:"exp-role",children:a.jobRole}),e.jsx("span",{className:"exp-duration badge bg-secondary",children:a.duration})]}),e.jsx("p",{className:"exp-company text-muted mb-1",children:a.companyName}),e.jsxs("p",{className:"exp-salary text-success mb-0",children:[e.jsx("i",{className:"fas fa-rupee-sign me-1"}),"₹",N(a.salaryAmount)]})]},n))})]})]})]})}),e.jsx("div",{className:"modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>o(!1),children:"Close"})})]})})})]}),e.jsx("style",{jsx:!0,children:`
        .feature-icon {
          width: 36px;
          height: 36px;
          display: flex;
          align-items: center;
          justify-content: center;
        }
        .bg-light-primary {
          background-color: rgba(0, 123, 255, 0.15);
        }
        .bg-light-success {
          background-color: rgba(40, 167, 69, 0.15);
        }
        .bg-light-danger {
          background-color: rgba(220, 53, 69, 0.15);
        }
        .bg-light-warning {
          background-color: rgba(255, 193, 7, 0.15);
        }
        .section-title {
          color: #333;
          font-size: 1.2rem;
        }
        .detail-icon {
          width: 20px;
          text-align: center;
        }
      `})]})};export{ge as default};
