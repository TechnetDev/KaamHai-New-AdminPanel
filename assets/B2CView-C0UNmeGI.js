import{r as d,j as e,L as ue,B as p}from"./index-BIaBoqRJ.js";import{p as ye}from"./user-CZs_HDyx.js";import{d as We,u as Ee}from"./users-CjXjhLai.js";import{j as Oe}from"./Job-DHoxuD0z.js";import"./axiosInstance-BYKqn8JH.js";const ze=({user:ge,setListPage:P,setViewPage:S,users:we,setUsers:ke})=>{var M,W,E,O,U,q,B,$,V,z,_,H,G,Q,Y,K,X,Z,D,ee,se,ae,le,ce,ie,re,ne,de,te;const[s,Pe]=d.useState(ge||{}),[j,Se]=d.useState("jobs"),[Ae,v]=d.useState(!1),[u,A]=d.useState(),Te=async()=>{const a=await localStorage.getItem("adminData");console.log(a,"item=====");try{const l=a?JSON.parse(a):null;A(l.admin)}catch(l){console.error("Failed to parse admin data:",l),A(null)}};d.useEffect(()=>{Te()},[]);const y=(a,l)=>{l.preventDefault(),Se(a)},T=a=>a?new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",[n,b]=d.useState({id:"",jobRole:[],jobLocation:[],jobType:"",jobNature:"",shiftType:"",minSalaryAmount:"",maxSalaryAmount:"",salaryType:""}),[R,C]=d.useState(!1),[Re,I]=d.useState(""),[L,g]=d.useState([]),[Ce,J]=d.useState(!1),[f,w]=d.useState([]),k=d.useRef(null),F=()=>{P(!0),S(!1)},Ie=async()=>{try{if(await We({id:s==null?void 0:s._id})){const l=we.filter(i=>i._id!==s._id);ke(l),p.success("User deleted successfully"),P(!0),S(!1),v(!1)}}catch(a){p.error(`${a.message}`)}};d.useEffect(()=>{if(s!=null&&s.workPreference){let a=[];s.workPreference.jobRole&&(typeof s.workPreference.jobRole=="string"?a=[{title:s.workPreference.jobRole}]:Array.isArray(s.workPreference.jobRole)&&(a=s.workPreference.jobRole.map(l=>typeof l=="string"?{title:l}:l))),w(a),b({id:s==null?void 0:s._id,jobRole:a.map(l=>l.title||l),jobLocation:s.workPreference.jobLocation||"",jobType:s.workPreference.jobType||"",jobNature:s.workPreference.jobNature||"",shiftType:s.workPreference.shiftType||"",minSalaryAmount:s.workPreference.minSalaryAmount||"",maxSalaryAmount:s.workPreference.maxSalaryAmount||"",salaryType:s.workPreference.salaryType||""})}else b(a=>({...a,id:(s==null?void 0:s._id)||""}))},[s]);const Le=async a=>{const l=a.target.value;if(I(l),k.current&&clearTimeout(k.current),!l.trim()){g([]);return}k.current=setTimeout(async()=>{try{J(!0);const i=await Oe(l);if(i.success){console.log(i,"resssssss");const r=f.map(c=>c),o=i.data.filter(c=>!r.includes(c));g(o)}else console.error("Error searching job roles:",i.message)}catch(i){console.error("Error searching job roles:",i)}finally{J(!1)}},500)},Je=a=>{console.log(a,"JOOOOOOOO");const l=[...f,a];w(l),b(i=>({...i,jobRole:l.map(r=>r.title)})),I(""),g([])},Fe=a=>{const l=f.filter((i,r)=>r!==a);w(l),b(i=>({...i,jobRole:l.map(r=>r.title)}))},h=a=>{const{name:l,value:i}=a.target;b(r=>({...r,[l]:i}))},Me=async()=>{var a,l;try{C(!0);const i=await Ee(n);i.success?(document.getElementById("closeWorkPreferenceModal").click(),Pe(r=>{const o={...r};return o.workPreference={...o.workPreference||{},jobRole:n.jobRole,jobLocation:n.jobLocation,jobType:n.jobType,jobNature:n.jobNature,shiftType:n.shiftType,minSalaryAmount:n.minSalaryAmount,maxSalaryAmount:n.maxSalaryAmount,salaryType:n.salaryType},o}),p.success("Work preferences updated successfully")):p.error(i.message||"Failed to update work preferences")}catch(i){console.error("Error updating work preferences:",i),p.error(((l=(a=i.response)==null?void 0:a.data)==null?void 0:l.message)||"An error occurred while updating work preferences")}finally{C(!1)}},N=(s==null?void 0:s.workPreference)&&Object.keys(s.workPreference).length>0&&(((M=s.workPreference.jobRole)==null?void 0:M.length)>0||s.workPreference.jobType);return e.jsxs("div",{className:"page-wrapper",children:[e.jsxs("div",{className:"content container-fluid",children:[e.jsx("div",{className:"page-header",children:e.jsxs("div",{className:"row align-items-center",children:[e.jsx("div",{className:"col",children:e.jsxs("ul",{className:"breadcrumb",children:[e.jsx("li",{className:"breadcrumb-item",onClick:F,children:e.jsx(ue,{children:"B2C Users"})}),e.jsx("li",{className:"breadcrumb-item active",children:s==null?void 0:s._id})]})}),e.jsx("div",{className:"col-auto",onClick:F,children:e.jsxs(ue,{to:"/b2c",className:"btn btn-primary btn-sm",children:[e.jsx("i",{className:"fas fa-arrow-left me-1"})," Back to List"]})})]})}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsx("div",{className:"profile-header",children:e.jsxs("div",{className:"row align-items-center",children:[e.jsx("div",{className:"col-auto",children:e.jsx("div",{className:"profile-image",children:e.jsx("img",{src:(s==null?void 0:s.profile)||ye,alt:"Profile",className:"rounded-circle",width:"100",height:"100",style:{objectFit:"cover",border:"3px solid #f0f0f0"}})})}),e.jsxs("div",{className:"col ml-md-n2",children:[e.jsx("h3",{className:"mb-0",children:((W=s==null?void 0:s.basicDetails)==null?void 0:W.name)||"User"}),e.jsxs("div",{className:"text-muted d-flex align-items-center",children:[e.jsx("i",{className:"fas fa-phone-alt me-1"}),(s==null?void 0:s.phoneNumber)||"No phone number",((E=s==null?void 0:s.basicDetails)==null?void 0:E.city)&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"mx-2",children:"|"}),e.jsx("i",{className:"fas fa-map-marker-alt me-1"}),s.basicDetails.city]})]}),e.jsxs("div",{className:"mt-2",children:[e.jsxs("span",{className:"badge bg-light text-dark me-2",children:[e.jsx("i",{className:"fas fa-calendar-alt me-1"}),"Joined: ",T(s==null?void 0:s.createdAt)]}),s!=null&&s.isAadharphotoVerified&&(s!=null&&s.isDocumentVerified)||s!=null&&s.isAadharOtpVerfied?e.jsxs("span",{className:"badge bg-success me-2",children:[e.jsx("i",{className:"fas fa-check-circle me-1"}),"Aadhar Verified"]}):e.jsxs("span",{className:"badge bg-warning text-dark me-2",children:[e.jsx("i",{className:"fas fa-times-circle me-1"}),"Aadhar Not Verified"]}),s!=null&&s.isPhotoVerified?e.jsxs("span",{className:"badge bg-success",children:[e.jsx("i",{className:"fas fa-check-circle me-1"}),"Photo Verified"]}):e.jsxs("span",{className:"badge bg-warning text-dark",children:[e.jsx("i",{className:"fas fa-times-circle me-1"}),"Photo Not Verified"]})]})]})]})})})})})}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-3 col-sm-6",children:e.jsx("div",{className:"card card-body",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"avatar avatar-lg bg-light-primary rounded-circle me-3",children:e.jsx("i",{className:"fas fa-user-check text-primary"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"mb-0",children:s!=null&&s.isAadharphotoVerified&&(s!=null&&s.isDocumentVerified)||s!=null&&s.isAadharOtpVerfied?"Verified":"Pending"}),e.jsx("p",{className:"text-muted mb-0",children:"Aadhar Status"})]})]})})}),e.jsx("div",{className:"col-md-3 col-sm-6",children:e.jsx("div",{className:"card card-body",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"avatar avatar-lg bg-light-success rounded-circle me-3",children:e.jsx("i",{className:"fas fa-briefcase text-success"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"mb-0",children:((O=s==null?void 0:s.appliedJobs)==null?void 0:O.length)||0}),e.jsx("p",{className:"text-muted mb-0",children:"Applied Jobs"})]})]})})}),e.jsx("div",{className:"col-md-3 col-sm-6",children:e.jsx("div",{className:"card card-body",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"avatar avatar-lg bg-light-info rounded-circle me-3",children:e.jsx("i",{className:"fas fa-star-half-alt text-info"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"mb-0",children:((U=s==null?void 0:s.review)==null?void 0:U.length)||0}),e.jsx("p",{className:"text-muted mb-0",children:"Performance Reviews"})]})]})})}),e.jsx("div",{className:"col-md-3 col-sm-6",children:e.jsx("div",{className:"card card-body",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"avatar avatar-lg bg-light-warning rounded-circle me-3",children:e.jsx("i",{className:"fas fa-calendar-alt text-warning"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"mb-0",children:((q=s==null?void 0:s.experience)==null?void 0:q.length)||0}),e.jsx("p",{className:"text-muted mb-0",children:"Work Experiences"})]})]})})}),(u==null?void 0:u.isEdit)&&e.jsx("div",{className:"col-md-3 col-sm-6",children:e.jsx("div",{className:"card card-body",onClick:()=>v(!0),style:{cursor:"pointer"},children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"avatar avatar-lg bg-light rounded me-3",children:e.jsx("i",{className:"fas fa-trash text-danger"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"mb-0 text-danger",children:"Delete"}),e.jsx("p",{className:"text-muted mb-0",children:"Delete B2C User"})]})]})})})]}),Ae&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"modal-backdrop fade show",style:{zIndex:1040}}),e.jsx("div",{className:"modal fade show d-block",tabIndex:"-1",style:{zIndex:1050},children:e.jsx("div",{className:"modal-dialog modal-dialog-centered",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title text-danger",children:"Confirm Deletion"}),e.jsx("button",{type:"button",className:"btn-close",onClick:()=>v(!1)})]}),e.jsx("div",{className:"modal-body",children:e.jsxs("p",{children:["Are you sure you want to delete this B2C User (",s==null?void 0:s.phoneNumber,")? This action cannot be undone."]})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{className:"btn btn-secondary",onClick:()=>v(!1),children:"Cancel"}),e.jsx("button",{className:"btn btn-danger",onClick:Ie,children:"Confirm Delete"})]})]})})})]}),e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-4",children:[e.jsxs("div",{className:"card mb-4",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h5",{className:"card-title mb-0",children:[e.jsx("i",{className:"fas fa-user me-2"}),"Personal Information"]})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"personal-info",children:[e.jsxs("div",{className:"info-item d-flex mb-3",children:[e.jsx("div",{className:"info-label text-muted",style:{width:"120px"},children:"Gender:"}),e.jsx("div",{className:"info-value flex-grow-1",children:((B=s==null?void 0:s.basicDetails)==null?void 0:B.gender)==="M"||(($=s==null?void 0:s.basicDetails)==null?void 0:$.gender)==="Male"?"Male":((V=s==null?void 0:s.basicDetails)==null?void 0:V.gender)==="F"||((z=s==null?void 0:s.basicDetails)==null?void 0:z.gender)==="Female"?"Female":"Not Specified"})]}),e.jsxs("div",{className:"info-item d-flex mb-3",children:[e.jsx("div",{className:"info-label text-muted",style:{width:"120px"},children:"Date of Birth:"}),e.jsx("div",{className:"info-value flex-grow-1",children:(_=s==null?void 0:s.basicDetails)!=null&&_.dateOfBirth?T(s.basicDetails.dateOfBirth):"Not Available"})]}),e.jsxs("div",{className:"info-item d-flex mb-3",children:[e.jsx("div",{className:"info-label text-muted",style:{width:"120px"},children:"Father's Name:"}),e.jsx("div",{className:"info-value flex-grow-1",children:((H=s==null?void 0:s.otherDetails)==null?void 0:H.fatherName)||"Not Available"})]}),e.jsxs("div",{className:"info-item d-flex mb-3",children:[e.jsx("div",{className:"info-label text-muted",style:{width:"120px"},children:"Blood Group:"}),e.jsx("div",{className:"info-value flex-grow-1",children:((G=s==null?void 0:s.otherDetails)==null?void 0:G.bloodGroup)||"Not Available"})]}),e.jsxs("div",{className:"info-item d-flex mb-3",children:[e.jsx("div",{className:"info-label text-muted",style:{width:"120px"},children:"Account Created:"}),e.jsx("div",{className:"info-value flex-grow-1",children:s!=null&&s.createdAt?new Date(s.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Not Available"})]})]})})]}),e.jsxs("div",{className:"card mb-4",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h5",{className:"card-title mb-0",children:[e.jsx("i",{className:"fas fa-address-card me-2"}),"Contact Information"]})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"contact-info",children:[e.jsxs("div",{className:"contact-item mb-3",children:[e.jsxs("div",{className:"d-flex align-items-center mb-1",children:[e.jsx("i",{className:"fas fa-phone-alt me-2 text-primary"}),e.jsx("h6",{className:"mb-0",children:"Primary Phone"})]}),e.jsx("p",{className:"mb-0 ps-4",children:(s==null?void 0:s.phoneNumber)||"Not Available"})]}),e.jsxs("div",{className:"contact-item mb-3",children:[e.jsxs("div",{className:"d-flex align-items-center mb-1",children:[e.jsx("i",{className:"fas fa-phone me-2 text-primary"}),e.jsx("h6",{className:"mb-0",children:"Emergency Contact"})]}),e.jsx("p",{className:"mb-0 ps-4",children:((Q=s==null?void 0:s.otherDetails)==null?void 0:Q.emergencyContact)||"Not Available"})]}),e.jsxs("div",{className:"contact-item mb-3",children:[e.jsxs("div",{className:"d-flex align-items-center mb-1",children:[e.jsx("i",{className:"fas fa-phone-square me-2 text-primary"}),e.jsx("h6",{className:"mb-0",children:"Local Contact"})]}),e.jsx("p",{className:"mb-0 ps-4",children:((Y=s==null?void 0:s.otherDetails)==null?void 0:Y.localContact)||"Not Available"})]}),e.jsxs("div",{className:"contact-item",children:[e.jsxs("div",{className:"d-flex align-items-center mb-1",children:[e.jsx("i",{className:"fas fa-map-marker-alt me-2 text-primary"}),e.jsx("h6",{className:"mb-0",children:"Emergency Address"})]}),e.jsx("p",{className:"mb-0 ps-4",children:((K=s==null?void 0:s.otherDetails)==null?void 0:K.emergencyAddress)||"Not Available"})]})]})})]}),e.jsxs("div",{className:"card mb-4",children:[e.jsxs("div",{className:"card-header d-flex justify-content-between align-items-center",children:[e.jsxs("h5",{className:"card-title mb-0",children:[e.jsx("i",{className:"fas fa-briefcase me-2"}),"Work Preferences"]}),e.jsxs("button",{className:`btn btn-sm ${N?"btn-outline-primary":"btn-primary"}`,"data-bs-toggle":"modal","data-bs-target":"#updateWorkPreferenceModal",children:[e.jsx("i",{className:`fas ${N?"fa-edit":"fa-plus-circle"} me-1`}),N?"Edit":"Add Preferences"]})]}),e.jsx("div",{className:"card-body",children:N?e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6 mb-3",children:e.jsxs("div",{className:"preference-item",children:[e.jsxs("h6",{className:"text-muted mb-1",children:[e.jsx("i",{className:"fas fa-user-tag me-2"}),"Job Roles"]}),e.jsx("p",{className:"mb-0",children:((Z=(X=s==null?void 0:s.workPreference)==null?void 0:X.jobRole)==null?void 0:Z.length)>0?Array.isArray(s.workPreference.jobRole)?s.workPreference.jobRole.join(", "):s.workPreference.jobRole:"Not Specified"})]})}),e.jsx("div",{className:"col-md-6 mb-3",children:e.jsxs("div",{className:"preference-item",children:[e.jsxs("h6",{className:"text-muted mb-1",children:[e.jsx("i",{className:"fas fa-map-marker-alt me-2"}),"Locations"]}),e.jsx("p",{className:"mb-0",children:((ee=(D=s==null?void 0:s.workPreference)==null?void 0:D.jobLocation)==null?void 0:ee.length)>0?Array.isArray(s.workPreference.jobLocation)?s.workPreference.jobLocation.join(", "):s.workPreference.jobLocation:"Not Specified"})]})}),e.jsx("div",{className:"col-md-6 mb-3",children:e.jsxs("div",{className:"preference-item",children:[e.jsxs("h6",{className:"text-muted mb-1",children:[e.jsx("i",{className:"fas fa-money-bill-wave me-2"}),"Salary Range"]}),e.jsxs("p",{className:"mb-0",children:["₹",((se=s==null?void 0:s.workPreference)==null?void 0:se.minSalaryAmount)||"0"," - ₹",((ae=s==null?void 0:s.workPreference)==null?void 0:ae.maxSalaryAmount)||"0",e.jsx("br",{}),e.jsx("small",{className:"text-muted",children:((le=s==null?void 0:s.workPreference)==null?void 0:le.salaryType)||"Not Specified"})]})]})}),e.jsx("div",{className:"col-md-6 mb-3",children:e.jsxs("div",{className:"preference-item",children:[e.jsxs("h6",{className:"text-muted mb-1",children:[e.jsx("i",{className:"fas fa-clock me-2"}),"Job Type"]}),e.jsxs("p",{className:"mb-0",children:[((ce=s==null?void 0:s.workPreference)==null?void 0:ce.jobType)||"Not Specified",e.jsx("br",{}),e.jsx("small",{className:"text-muted",children:((ie=s==null?void 0:s.workPreference)==null?void 0:ie.shiftType)||"Not Specified"})]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"preference-item",children:[e.jsxs("h6",{className:"text-muted mb-1",children:[e.jsx("i",{className:"fas fa-users-cog me-2"}),"Job Nature"]}),e.jsx("p",{className:"mb-0",children:((re=s==null?void 0:s.workPreference)==null?void 0:re.jobNature)||"Not Specified"})]})})]}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:"mb-3",children:e.jsx("i",{className:"fas fa-briefcase fa-3x text-muted"})}),e.jsx("p",{className:"mb-3",children:"No work preferences have been added yet."}),e.jsxs("button",{className:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#updateWorkPreferenceModal",children:[e.jsx("i",{className:"fas fa-plus-circle me-1"})," Add Work Preferences"]})]})})]}),e.jsx("div",{className:"modal fade",id:"updateWorkPreferenceModal",tabIndex:"-1","aria-labelledby":"workPreferenceModalLabel","aria-hidden":"true",children:e.jsx("div",{className:"modal-dialog modal-lg",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",id:"workPreferenceModalLabel",children:N?"Update Work Preferences":"Add Work Preferences"}),e.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"row mb-3",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:"Job Role"}),e.jsxs("div",{className:"position-relative",children:[e.jsx("div",{className:"mb-2",children:e.jsxs("div",{className:"input-group",children:[e.jsx("input",{type:"text",className:"form-control",placeholder:"Search for job roles...",value:Re,onChange:Le}),e.jsx("button",{className:"btn btn-outline-secondary",type:"button",disabled:!0,children:Ce?e.jsx("i",{className:"fas fa-spinner fa-spin"}):e.jsx("i",{className:"fas fa-search"})})]})}),L.length>0&&e.jsx("div",{className:"position-absolute w-100 shadow-sm bg-white border rounded p-2 mt-1 z-index-1000",style:{maxHeight:"200px",overflowY:"auto",zIndex:1e3},children:L.map((a,l)=>e.jsx("div",{className:"p-2 border-bottom search-item",onClick:()=>Je(a),style:{cursor:"pointer"},children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("span",{style:{color:"#000"},children:a.title}),e.jsx("button",{className:"btn btn-sm btn-link text-primary p-0",children:e.jsx("i",{className:"fas fa-plus-circle"})})]})},l))}),e.jsx("div",{className:"selected-items mt-2",children:f.length>0?e.jsx("div",{className:"d-flex flex-wrap gap-2",children:f.map((a,l)=>e.jsxs("div",{className:"badge bg-light text-dark p-2 d-flex align-items-center",children:[e.jsx("span",{style:{color:"#000"},children:a.title||a}),e.jsx("button",{className:"btn btn-sm p-0 ms-2 text-danger",onClick:()=>Fe(l),style:{fontSize:"10px",lineHeight:1},children:e.jsx("i",{className:"fas fa-times"})})]},l))}):e.jsx("div",{className:"text-muted small",children:"No job roles selected. Search and add job roles above."})})]})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:"Job Location"}),e.jsx("input",{type:"text",className:"form-control",name:"jobLocation",placeholder:"Job Location",min:"0",value:n.jobLocation,onChange:h})]})]}),e.jsxs("div",{className:"row mb-3",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:"Job Type"}),e.jsxs("select",{className:"form-select",name:"jobType",value:n.jobType,onChange:h,children:[e.jsx("option",{value:"",children:"Select Job Type"}),e.jsx("option",{value:"Full-time",children:"Full-time"}),e.jsx("option",{value:"Part-time",children:"Part-time"}),e.jsx("option",{value:"Contract",children:"Contract"}),e.jsx("option",{value:"Freelance",children:"Freelance"}),e.jsx("option",{value:"Internship",children:"Internship"})]})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:"Shift Type"}),e.jsxs("select",{className:"form-select",name:"shiftType",value:n.shiftType,onChange:h,children:[e.jsx("option",{value:"",children:"Select Shift Type"}),e.jsx("option",{value:"Day",children:"Day"}),e.jsx("option",{value:"Night",children:"Night"}),e.jsx("option",{value:"Flexible",children:"Flexible"}),e.jsx("option",{value:"Rotational",children:"Rotational"}),e.jsx("option",{value:"Fixed",children:"Fixed"})]})]})]}),e.jsxs("div",{className:"row mb-3",children:[e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"Minimum Salary (₹)"}),e.jsx("input",{type:"number",className:"form-control",name:"minSalaryAmount",placeholder:"Min Amount",min:"0",value:n.minSalaryAmount,onChange:h})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"Maximum Salary (₹)"}),e.jsx("input",{type:"number",className:"form-control",name:"maxSalaryAmount",placeholder:"Max Amount",min:"0",value:n.maxSalaryAmount,onChange:h})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"Salary Type"}),e.jsxs("select",{className:"form-select",name:"salaryType",value:n.salaryType,onChange:h,children:[e.jsx("option",{value:"",children:"Select Type"}),e.jsx("option",{value:"Monthly",children:"Monthly"}),e.jsx("option",{value:"Annual",children:"Annual"}),e.jsx("option",{value:"Weekly",children:"Weekly"}),e.jsx("option",{value:"Hourly",children:"Hourly"}),e.jsx("option",{value:"Daily",children:"Daily"})]})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Job Nature"}),e.jsxs("select",{className:"form-select",name:"jobNature",value:n.jobNature,onChange:h,children:[e.jsx("option",{value:"",children:"Select Job Nature"}),e.jsx("option",{value:"On-site",children:"On-site"}),e.jsx("option",{value:"Remote",children:"Remote"}),e.jsx("option",{value:"Hybrid",children:"Hybrid"}),e.jsx("option",{value:"Field",children:"Field"}),e.jsx("option",{value:"Travel Required",children:"Travel Required"})]})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",id:"closeWorkPreferenceModal",children:"Cancel"}),e.jsx("button",{type:"button",className:"btn btn-primary",onClick:Me,disabled:R,children:R?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Saving..."]}):"Save Preferences"})]})]})})})]}),e.jsx("div",{className:"col-md-8",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header p-0 border-bottom-0",children:e.jsxs("ul",{className:"nav nav-tabs nav-tabs-bordered",children:[e.jsx("li",{className:"nav-item",children:e.jsxs("a",{className:`nav-link ${j==="jobs"?"active":""}`,href:"#",onClick:a=>y("jobs",a),children:[e.jsx("i",{className:"fas fa-briefcase me-1"}),"Applied Jobs"]})}),e.jsx("li",{className:"nav-item",children:e.jsxs("a",{className:`nav-link ${j==="reviews"?"active":""}`,href:"#",onClick:a=>y("reviews",a),children:[e.jsx("i",{className:"fas fa-star me-1"}),"Reviews"]})}),e.jsx("li",{className:"nav-item",children:e.jsxs("a",{className:`nav-link ${j==="experience"?"active":""}`,href:"#",onClick:a=>y("experience",a),children:[e.jsx("i",{className:"fas fa-history me-1"}),"Experience"]})})]})}),e.jsxs("div",{className:"card-body",children:[j==="jobs"&&e.jsxs("div",{className:"tab-content",children:[e.jsx("div",{className:"d-flex justify-content-between align-items-center mb-3",children:e.jsxs("h5",{className:"mb-0",children:["Applied Jobs (",((ne=s==null?void 0:s.appliedJobs)==null?void 0:ne.length)||0,")"]})}),s!=null&&s.appliedJobs&&s.appliedJobs.length>0?e.jsx("div",{className:"applied-jobs-list",children:s.appliedJobs.map((a,l)=>{var i,r,o,c,t,m,x,oe,me,xe,he,je,be,fe,Ne,pe,ve;return e.jsxs("div",{className:"job-card mb-3 border rounded p-3 position-relative",children:[e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-8",children:e.jsxs("div",{className:"d-flex",children:[e.jsx("div",{className:"company-logo me-3",children:e.jsx("img",{src:((r=(i=a.jobPostId)==null?void 0:i.companyId)==null?void 0:r.companyLogo)||ye,alt:"Company Logo",className:"rounded-circle",width:"60",height:"60",style:{objectFit:"cover"}})}),e.jsxs("div",{children:[e.jsx("h5",{className:"mb-1",children:(c=(o=a.jobPostId)==null?void 0:o.jobTitle)!=null&&c._id?a.jobPostId.jobTitle.title:((t=a.jobPostId)==null?void 0:t.jobTitle)||"N/A"}),e.jsxs("p",{className:"text-muted mb-1",children:[e.jsx("i",{className:"fas fa-building me-1"}),((x=(m=a.jobPostId)==null?void 0:m.companyId)==null?void 0:x.companyName)||"N/A"]}),e.jsxs("p",{className:"text-muted mb-1 small",children:[e.jsx("i",{className:"fas fa-map-marker-alt me-1"}),((xe=(me=(oe=a.jobPostId)==null?void 0:oe.branchData)==null?void 0:me.address)==null?void 0:xe.substring(0,50))||"No address"]}),e.jsxs("p",{className:"mb-0 text-truncate",style:{maxWidth:"400px"},children:[((je=(he=a.jobPostId)==null?void 0:he.jobDescription)==null?void 0:je.substring(0,80))||"No description","..."]})]})]})}),e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"d-flex flex-column h-100 justify-content-between align-items-end",children:[e.jsxs("div",{className:"job-badges mb-2",children:[e.jsx("span",{className:"badge bg-light text-dark me-2",children:((be=a.jobPostId)==null?void 0:be.jobType)||"N/A"}),e.jsx("span",{className:`badge ${(fe=a.jobPostId)!=null&&fe.paymentDone?"bg-success":"bg-danger"}`,children:(Ne=a.jobPostId)!=null&&Ne.paymentDone?"Paid":"Unpaid"})]}),e.jsxs("div",{className:"job-salary mb-2",children:[e.jsxs("span",{className:"d-block text-end text-dark",children:[e.jsx("i",{className:"fas fa-rupee-sign me-1"}),(pe=a.jobPostId)!=null&&pe.salaryRange?`${a.jobPostId.salaryRange.minSalary} - ${a.jobPostId.salaryRange.maxSalary}`:"N/A"]}),e.jsx("small",{className:"text-muted",children:((ve=a.jobPostId)==null?void 0:ve.salaryType)||""})]}),e.jsx("div",{className:"job-status",children:e.jsx("span",{className:"badge rounded-pill px-3 py-2",style:{backgroundColor:a.statusBgColor||"#E6F7FF",color:a.statusColor||"#1890FF"},children:a.applicationStatus||a.status||"Applied"})})]})})]}),e.jsx("div",{className:"job-footer mt-3 pt-3 border-top d-flex justify-content-between align-items-center",children:e.jsx("div",{className:"application-date",children:e.jsxs("small",{className:"text-muted",children:[e.jsx("i",{className:"fas fa-calendar-alt me-1"}),"Applied: ",a.appliedAt?new Date(a.appliedAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):a.timeText||"N/A"]})})})]},l)})}):e.jsxs("div",{className:"text-center py-5",children:[e.jsx("i",{className:"fas fa-briefcase fa-4x text-muted mb-3"}),e.jsx("h5",{children:"No Jobs Applied"}),e.jsx("p",{className:"text-muted",children:"This user hasn't applied to any jobs yet."})]})]}),j==="reviews"&&e.jsxs("div",{className:"tab-content",children:[e.jsx("div",{className:"d-flex justify-content-between align-items-center mb-3",children:e.jsxs("h5",{className:"mb-0",children:["Performance Reviews (",((de=s==null?void 0:s.review)==null?void 0:de.length)||0,")"]})}),s!=null&&s.review&&s.review.length>0?e.jsx("div",{className:"reviews-list",children:s.review.map((a,l)=>{var i,r,o;return e.jsxs("div",{className:"review-card mb-4 border rounded shadow-sm",children:[e.jsx("div",{className:"review-header bg-primary text-white p-3 rounded-top",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsxs("h5",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-building me-2"}),((i=a.userId)==null?void 0:i.name)||((r=a.companyId)==null?void 0:r.companyName)||((o=a.branchId)==null?void 0:o.entity)||"Anonymous Reviewer"]}),a.offerLetterId&&e.jsxs("small",{className:"text-white-50",children:[e.jsx("i",{className:"fas fa-briefcase me-1"}),a.offerLetterId.jobTitle||"Job Position"]})]}),e.jsx("div",{className:"review-date",children:e.jsxs("span",{className:"badge bg-light text-primary",children:[e.jsx("i",{className:"far fa-calendar-alt me-1"}),a.createdAt?new Date(a.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):""]})})]})}),a.questions&&a.questions.some(c=>c.type==="star")&&e.jsx("div",{className:"review-rating bg-light p-3 border-bottom",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("h6",{className:"mb-0 fw-bold",children:"Overall Performance"}),e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"stars me-2",children:(()=>{const c=a.questions.filter(m=>m.type==="star"),t=c.length>0?Math.round(c.reduce((m,x)=>m+parseInt(x.answer||0),0)/c.length):0;return[...Array(5)].map((m,x)=>e.jsx("i",{className:`fas fa-star ${x<t?"text-warning":"text-muted"}`,style:{fontSize:"18px"}},x))})()}),e.jsx("span",{className:"badge bg-primary rounded-pill",children:(()=>{const c=a.questions.filter(t=>t.type==="star");return c.length>0?(c.reduce((t,m)=>t+parseInt(m.answer||0),0)/c.length).toFixed(1):"N/A"})()})]})]})}),e.jsxs("div",{className:"review-content p-3",children:[a.questions&&a.questions.filter(c=>c.type==="star").length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("h6",{className:"border-bottom pb-2 mb-3",children:[e.jsx("i",{className:"fas fa-chart-bar text-primary me-1"}),"Performance Metrics"]}),e.jsx("div",{className:"row",children:a.questions.filter(c=>c.type==="star").map((c,t)=>e.jsx("div",{className:"col-md-6 mb-3",children:e.jsxs("div",{className:"rating-item p-2 rounded border",children:[e.jsx("div",{className:"mb-2 small fw-bold",children:c.question}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("div",{className:"progress flex-grow-1 me-2",style:{height:"8px"},children:e.jsx("div",{className:"progress-bar bg-success",role:"progressbar",style:{width:`${parseInt(c.answer||0)*20}%`},"aria-valuenow":parseInt(c.answer||0),"aria-valuemin":"0","aria-valuemax":"5"})}),e.jsx("div",{className:"rating-value",children:e.jsxs("span",{className:"badge bg-dark",children:[c.answer,"/5"]})})]}),e.jsx("div",{className:"rating-stars mt-1",children:[...Array(5)].map((m,x)=>e.jsx("i",{className:`fas fa-star ${x<parseInt(c.answer||0)?"text-warning":"text-muted"}`,style:{fontSize:"14px"}},x))})]})},t))})]}),a.questions&&a.questions.filter(c=>c.type==="text").length>0&&e.jsxs("div",{children:[e.jsxs("h6",{className:"border-bottom pb-2 mb-3",children:[e.jsx("i",{className:"fas fa-comment-alt text-primary me-1"}),"Feedback"]}),a.questions.filter(c=>c.type==="text").map((c,t)=>e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"feedback-question mb-2 bg-light p-2 rounded",children:[e.jsx("i",{className:"fas fa-question-circle text-primary me-1"}),e.jsx("strong",{children:c.question})]}),e.jsxs("div",{className:"feedback-answer p-3 bg-white rounded border",children:[e.jsx("i",{className:"fas fa-quote-left text-muted me-2 opacity-50"}),c.answer||"No response provided.",e.jsx("i",{className:"fas fa-quote-right text-muted ms-2 opacity-50"})]})]},t))]}),(!a.questions||a.questions.length===0)&&e.jsxs("div",{className:"text-center py-4",children:[e.jsx("i",{className:"fas fa-clipboard-list text-muted mb-3",style:{fontSize:"3rem"}}),e.jsx("p",{className:"text-muted",children:"No detailed review information available for this assessment."})]})]})]},l)})}):e.jsxs("div",{className:"text-center py-5",children:[e.jsx("i",{className:"fas fa-star-half-alt text-muted mb-3",style:{fontSize:"4rem"}}),e.jsx("h5",{children:"No Performance Reviews Yet"}),e.jsx("p",{className:"text-muted",children:"This user hasn't received any performance reviews."})]})]}),j==="experience"&&e.jsxs("div",{className:"tab-content",children:[e.jsx("div",{className:"d-flex justify-content-between align-items-center mb-3",children:e.jsxs("h5",{className:"mb-0",children:["Work Experience (",((te=s==null?void 0:s.experience)==null?void 0:te.length)||0,")"]})}),s!=null&&s.experience&&s.experience.length>0?e.jsx("div",{className:"timeline",children:s.experience.map((a,l)=>e.jsxs("div",{className:"timeline-item mb-4",children:[e.jsx("div",{className:"timeline-marker"}),e.jsxs("div",{className:"timeline-content card border-0 shadow-sm",children:[e.jsx("div",{className:"card-header bg-light py-2",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("h5",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-building me-2 text-primary"}),a==null?void 0:a.companyName]}),e.jsx("span",{className:"badge bg-primary ",children:a==null?void 0:a.jobType})]})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"row mb-2",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{className:"fas fa-briefcase text-muted me-2"}),e.jsxs("div",{children:[e.jsx("small",{className:"text-muted d-block",children:"Position"}),e.jsx("span",{className:"text-dark",children:(a==null?void 0:a.jobRole)||"Not specified"})]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{className:"fas fa-map-marker-alt text-muted me-2"}),e.jsxs("div",{children:[e.jsx("small",{className:"text-muted d-block",children:"Location"}),e.jsx("span",{className:"text-dark",children:(a==null?void 0:a.companyLocation)||"Not specified"})]})]})})]}),e.jsxs("div",{className:"row mb-2",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{className:"fas fa-user-clock text-muted me-2"}),e.jsxs("div",{children:[e.jsx("small",{className:"text-muted d-block",children:"Job Nature"}),e.jsx("span",{className:"text-dark",children:(a==null?void 0:a.jobNature)||"Not specified"})]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{className:"fas fa-money-bill-wave text-muted me-2"}),e.jsxs("div",{children:[e.jsx("small",{className:"text-muted d-block",children:"Salary"}),e.jsxs("span",{className:"text-dark",children:[a==null?void 0:a.salaryType," - ₹",a==null?void 0:a.salaryAmount]})]})]})})]}),e.jsxs("div",{className:"d-flex align-items-center mt-3",children:[e.jsx("i",{className:"fas fa-calendar-alt text-primary me-2"}),e.jsxs("div",{children:[e.jsx("small",{className:"text-muted d-block",children:"Duration"}),e.jsxs("span",{className:"text-dark",children:["Started: ",a!=null&&a.startDate?new Date(a.startDate).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Not specified",a!=null&&a.endDate?` - Ended: ${new Date(a.endDate).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}`:" - Present"]})]})]})]})]})]},l))}):e.jsxs("div",{className:"text-center py-5",children:[e.jsx("i",{className:"fas fa-briefcase text-muted mb-3",style:{fontSize:"4rem"}}),e.jsx("h5",{children:"No Work Experience"}),e.jsx("p",{className:"text-muted",children:"This user hasn't added any work experience yet."})]})]})]})]})})]})]}),e.jsx("style",{jsx:!0,children:`
        .avatar-lg {
          width: 48px;
          height: 48px;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 1.5rem;
        }
        .bg-light-primary {
          background-color: rgba(0, 123, 255, 0.15);
        }
        .bg-light-success {
          background-color: rgba(40, 167, 69, 0.15);
        }
        .bg-light-info {
          background-color: rgba(23, 162, 184, 0.15);
        }
        .bg-light-warning {
          background-color: rgba(255, 193, 7, 0.15);
        }
        .timeline {
          position: relative;
          padding-left: 30px;
        }
        .timeline:before {
          content: '';
          position: absolute;
          top: 10px;
          bottom: 0;
          left: 8px;
          width: 3px;
          background: #e9ecef;
        }
        .timeline-item {
          position: relative;
        }
          
        .timeline-marker {
          position: absolute;
          left: -30px;
          top: 10px;
          width: 18px;
          height: 18px;
          border-radius: 50%;
          background: #primary;
          border: 3px solid #fff;
          box-shadow: 0 0 0 3px #0d6efd;
        }
        .nav-tabs-bordered {
          border-bottom: 1px solid #dee2e6;
        }
        .nav-tabs-bordered .nav-link {
          margin-bottom: -1px;
          border: 1px solid transparent;
          border-top-left-radius: 0.25rem;
          border-top-right-radius: 0.25rem;
        }
        .nav-tabs-bordered .nav-link:hover,
        .nav-tabs-bordered .nav-link:focus {
          border-color: #e9ecef #e9ecef #dee2e6;
        }
        .nav-tabs-bordered .nav-link.active {
          color: #0d6efd;
          background-color: #fff;
          border-color: #dee2e6 #dee2e6 #fff;
        }
      `})]})};export{ze as default};
