import{u as xe,r as b,j as e,L as re,B as p}from"./index-Bvz-AgVJ.js";import{p as ne}from"./user-CZs_HDyx.js";import{u as he}from"./users-B19jTbNR.js";import"./axiosInstance-D-EDd5kP.js";const pe=()=>{var u,w,k,P,A,S,T,I,R,L,C,F,J,W,M,q,E,V,U,$,B,O,z,_,H,G,Q,Y;const de=xe(),[s,te]=b.useState(((u=de.state)==null?void 0:u.user)||{}),[h,me]=b.useState("jobs"),N=(a,r)=>{r.preventDefault(),me(a)},v=a=>a?new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",[i,f]=b.useState({id:"",jobRole:[],jobLocation:[],jobType:"",jobNature:"",shiftType:"",minSalaryAmount:"",maxSalaryAmount:"",salaryType:""}),[y,g]=b.useState(!1);b.useEffect(()=>{s!=null&&s.workPreference?f({id:s==null?void 0:s._id,jobRole:s.workPreference.jobRole||"",jobLocation:s.workPreference.jobLocation||"",jobType:s.workPreference.jobType||"",jobNature:s.workPreference.jobNature||"",shiftType:s.workPreference.shiftType||"",minSalaryAmount:s.workPreference.minSalaryAmount||"",maxSalaryAmount:s.workPreference.maxSalaryAmount||"",salaryType:s.workPreference.salaryType||""}):f(a=>({...a,id:(s==null?void 0:s._id)||""}))},[s]);const x=a=>{const{name:r,value:c}=a.target;f(m=>({...m,[r]:c}))},oe=async()=>{var a,r;try{g(!0);const c=await he(i);c.success?(document.getElementById("closeWorkPreferenceModal").click(),te(m=>{const o={...m};return o.workPreference={...o.workPreference||{},jobRole:i.jobRole,jobLocation:i.jobLocation,jobType:i.jobType,jobNature:i.jobNature,shiftType:i.shiftType,minSalaryAmount:i.minSalaryAmount,maxSalaryAmount:i.maxSalaryAmount,salaryType:i.salaryType},o}),p.success("Work preferences updated successfully")):p.error(c.message||"Failed to update work preferences")}catch(c){console.error("Error updating work preferences:",c),p.error(((r=(a=c.response)==null?void 0:a.data)==null?void 0:r.message)||"An error occurred while updating work preferences")}finally{g(!1)}},j=(s==null?void 0:s.workPreference)&&Object.keys(s.workPreference).length>0&&(((w=s.workPreference.jobRole)==null?void 0:w.length)>0||s.workPreference.jobType);return e.jsxs("div",{className:"page-wrapper",children:[e.jsxs("div",{className:"content container-fluid",children:[e.jsx("div",{className:"page-header",children:e.jsxs("div",{className:"row align-items-center",children:[e.jsx("div",{className:"col",children:e.jsxs("ul",{className:"breadcrumb",children:[e.jsx("li",{className:"breadcrumb-item",children:e.jsx(re,{to:"/b2c",children:"B2C Users"})}),e.jsx("li",{className:"breadcrumb-item active",children:s==null?void 0:s._id})]})}),e.jsx("div",{className:"col-auto",children:e.jsxs(re,{to:"/b2c",className:"btn btn-primary btn-sm",children:[e.jsx("i",{className:"fas fa-arrow-left me-1"})," Back to List"]})})]})}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsx("div",{className:"profile-header",children:e.jsxs("div",{className:"row align-items-center",children:[e.jsx("div",{className:"col-auto",children:e.jsx("div",{className:"profile-image",children:e.jsx("img",{src:(s==null?void 0:s.profile)||ne,alt:"Profile",className:"rounded-circle",width:"100",height:"100",style:{objectFit:"cover",border:"3px solid #f0f0f0"}})})}),e.jsxs("div",{className:"col ml-md-n2",children:[e.jsx("h3",{className:"mb-0",children:((k=s==null?void 0:s.basicDetails)==null?void 0:k.name)||"User"}),e.jsxs("div",{className:"text-muted d-flex align-items-center",children:[e.jsx("i",{className:"fas fa-phone-alt me-1"}),(s==null?void 0:s.phoneNumber)||"No phone number",((P=s==null?void 0:s.basicDetails)==null?void 0:P.city)&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"mx-2",children:"|"}),e.jsx("i",{className:"fas fa-map-marker-alt me-1"}),s.basicDetails.city]})]}),e.jsxs("div",{className:"mt-2",children:[e.jsxs("span",{className:"badge bg-light text-dark me-2",children:[e.jsx("i",{className:"fas fa-calendar-alt me-1"}),"Joined: ",v(s==null?void 0:s.createdAt)]}),s!=null&&s.isAadharphotoVerified&&(s!=null&&s.isDocumentVerified)||s!=null&&s.isAadharOtpVerfied?e.jsxs("span",{className:"badge bg-success me-2",children:[e.jsx("i",{className:"fas fa-check-circle me-1"}),"Aadhar Verified"]}):e.jsxs("span",{className:"badge bg-warning text-dark me-2",children:[e.jsx("i",{className:"fas fa-times-circle me-1"}),"Aadhar Not Verified"]}),s!=null&&s.isPhotoVerified?e.jsxs("span",{className:"badge bg-success",children:[e.jsx("i",{className:"fas fa-check-circle me-1"}),"Photo Verified"]}):e.jsxs("span",{className:"badge bg-warning text-dark",children:[e.jsx("i",{className:"fas fa-times-circle me-1"}),"Photo Not Verified"]})]})]})]})})})})})}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-3 col-sm-6",children:e.jsx("div",{className:"card card-body",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"avatar avatar-lg bg-light-primary rounded-circle me-3",children:e.jsx("i",{className:"fas fa-user-check text-primary"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"mb-0",children:s!=null&&s.isAadharphotoVerified&&(s!=null&&s.isDocumentVerified)||s!=null&&s.isAadharOtpVerfied?"Verified":"Pending"}),e.jsx("p",{className:"text-muted mb-0",children:"Aadhar Status"})]})]})})}),e.jsx("div",{className:"col-md-3 col-sm-6",children:e.jsx("div",{className:"card card-body",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"avatar avatar-lg bg-light-success rounded-circle me-3",children:e.jsx("i",{className:"fas fa-briefcase text-success"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"mb-0",children:((A=s==null?void 0:s.appliedJobs)==null?void 0:A.length)||0}),e.jsx("p",{className:"text-muted mb-0",children:"Applied Jobs"})]})]})})}),e.jsx("div",{className:"col-md-3 col-sm-6",children:e.jsx("div",{className:"card card-body",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"avatar avatar-lg bg-light-info rounded-circle me-3",children:e.jsx("i",{className:"fas fa-star-half-alt text-info"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"mb-0",children:((S=s==null?void 0:s.review)==null?void 0:S.length)||0}),e.jsx("p",{className:"text-muted mb-0",children:"Performance Reviews"})]})]})})}),e.jsx("div",{className:"col-md-3 col-sm-6",children:e.jsx("div",{className:"card card-body",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"avatar avatar-lg bg-light-warning rounded-circle me-3",children:e.jsx("i",{className:"fas fa-calendar-alt text-warning"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"mb-0",children:((T=s==null?void 0:s.experience)==null?void 0:T.length)||0}),e.jsx("p",{className:"text-muted mb-0",children:"Work Experiences"})]})]})})})]}),e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-4",children:[e.jsxs("div",{className:"card mb-4",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h5",{className:"card-title mb-0",children:[e.jsx("i",{className:"fas fa-user me-2"}),"Personal Information"]})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"personal-info",children:[e.jsxs("div",{className:"info-item d-flex mb-3",children:[e.jsx("div",{className:"info-label text-muted",style:{width:"120px"},children:"Gender:"}),e.jsx("div",{className:"info-value flex-grow-1",children:((I=s==null?void 0:s.basicDetails)==null?void 0:I.gender)==="M"||((R=s==null?void 0:s.basicDetails)==null?void 0:R.gender)==="Male"?"Male":((L=s==null?void 0:s.basicDetails)==null?void 0:L.gender)==="F"||((C=s==null?void 0:s.basicDetails)==null?void 0:C.gender)==="Female"?"Female":"Not Specified"})]}),e.jsxs("div",{className:"info-item d-flex mb-3",children:[e.jsx("div",{className:"info-label text-muted",style:{width:"120px"},children:"Date of Birth:"}),e.jsx("div",{className:"info-value flex-grow-1",children:(F=s==null?void 0:s.basicDetails)!=null&&F.dateOfBirth?v(s.basicDetails.dateOfBirth):"Not Available"})]}),e.jsxs("div",{className:"info-item d-flex mb-3",children:[e.jsx("div",{className:"info-label text-muted",style:{width:"120px"},children:"Father's Name:"}),e.jsx("div",{className:"info-value flex-grow-1",children:((J=s==null?void 0:s.otherDetails)==null?void 0:J.fatherName)||"Not Available"})]}),e.jsxs("div",{className:"info-item d-flex mb-3",children:[e.jsx("div",{className:"info-label text-muted",style:{width:"120px"},children:"Blood Group:"}),e.jsx("div",{className:"info-value flex-grow-1",children:((W=s==null?void 0:s.otherDetails)==null?void 0:W.bloodGroup)||"Not Available"})]}),e.jsxs("div",{className:"info-item d-flex mb-3",children:[e.jsx("div",{className:"info-label text-muted",style:{width:"120px"},children:"Account Created:"}),e.jsx("div",{className:"info-value flex-grow-1",children:s!=null&&s.createdAt?new Date(s.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Not Available"})]})]})})]}),e.jsxs("div",{className:"card mb-4",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h5",{className:"card-title mb-0",children:[e.jsx("i",{className:"fas fa-address-card me-2"}),"Contact Information"]})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"contact-info",children:[e.jsxs("div",{className:"contact-item mb-3",children:[e.jsxs("div",{className:"d-flex align-items-center mb-1",children:[e.jsx("i",{className:"fas fa-phone-alt me-2 text-primary"}),e.jsx("h6",{className:"mb-0",children:"Primary Phone"})]}),e.jsx("p",{className:"mb-0 ps-4",children:(s==null?void 0:s.phoneNumber)||"Not Available"})]}),e.jsxs("div",{className:"contact-item mb-3",children:[e.jsxs("div",{className:"d-flex align-items-center mb-1",children:[e.jsx("i",{className:"fas fa-phone me-2 text-primary"}),e.jsx("h6",{className:"mb-0",children:"Emergency Contact"})]}),e.jsx("p",{className:"mb-0 ps-4",children:((M=s==null?void 0:s.otherDetails)==null?void 0:M.emergencyContact)||"Not Available"})]}),e.jsxs("div",{className:"contact-item mb-3",children:[e.jsxs("div",{className:"d-flex align-items-center mb-1",children:[e.jsx("i",{className:"fas fa-phone-square me-2 text-primary"}),e.jsx("h6",{className:"mb-0",children:"Local Contact"})]}),e.jsx("p",{className:"mb-0 ps-4",children:((q=s==null?void 0:s.otherDetails)==null?void 0:q.localContact)||"Not Available"})]}),e.jsxs("div",{className:"contact-item",children:[e.jsxs("div",{className:"d-flex align-items-center mb-1",children:[e.jsx("i",{className:"fas fa-map-marker-alt me-2 text-primary"}),e.jsx("h6",{className:"mb-0",children:"Emergency Address"})]}),e.jsx("p",{className:"mb-0 ps-4",children:((E=s==null?void 0:s.otherDetails)==null?void 0:E.emergencyAddress)||"Not Available"})]})]})})]}),e.jsxs("div",{className:"card mb-4",children:[e.jsxs("div",{className:"card-header d-flex justify-content-between align-items-center",children:[e.jsxs("h5",{className:"card-title mb-0",children:[e.jsx("i",{className:"fas fa-briefcase me-2"}),"Work Preferences"]}),e.jsxs("button",{className:`btn btn-sm ${j?"btn-outline-primary":"btn-primary"}`,"data-bs-toggle":"modal","data-bs-target":"#updateWorkPreferenceModal",children:[e.jsx("i",{className:`fas ${j?"fa-edit":"fa-plus-circle"} me-1`}),j?"Edit":"Add Preferences"]})]}),e.jsx("div",{className:"card-body",children:j?e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6 mb-3",children:e.jsxs("div",{className:"preference-item",children:[e.jsxs("h6",{className:"text-muted mb-1",children:[e.jsx("i",{className:"fas fa-user-tag me-2"}),"Job Roles"]}),e.jsx("p",{className:"mb-0",children:(V=s==null?void 0:s.workPreference)!=null&&V.jobRole?s.workPreference.jobRole:"Not Specified"})]})}),e.jsx("div",{className:"col-md-6 mb-3",children:e.jsxs("div",{className:"preference-item",children:[e.jsxs("h6",{className:"text-muted mb-1",children:[e.jsx("i",{className:"fas fa-map-marker-alt me-2"}),"Locations"]}),e.jsx("p",{className:"mb-0",children:(U=s==null?void 0:s.workPreference)!=null&&U.jobLocation?s.workPreference.jobLocation:"Not Specified"})]})}),e.jsx("div",{className:"col-md-6 mb-3",children:e.jsxs("div",{className:"preference-item",children:[e.jsxs("h6",{className:"text-muted mb-1",children:[e.jsx("i",{className:"fas fa-money-bill-wave me-2"}),"Salary Range"]}),e.jsxs("p",{className:"mb-0",children:["₹",(($=s==null?void 0:s.workPreference)==null?void 0:$.minSalaryAmount)||"0"," - ₹",((B=s==null?void 0:s.workPreference)==null?void 0:B.maxSalaryAmount)||"0",e.jsx("br",{}),e.jsx("small",{className:"text-muted",children:((O=s==null?void 0:s.workPreference)==null?void 0:O.salaryType)||"Not Specified"})]})]})}),e.jsx("div",{className:"col-md-6 mb-3",children:e.jsxs("div",{className:"preference-item",children:[e.jsxs("h6",{className:"text-muted mb-1",children:[e.jsx("i",{className:"fas fa-clock me-2"}),"Job Type"]}),e.jsxs("p",{className:"mb-0",children:[((z=s==null?void 0:s.workPreference)==null?void 0:z.jobType)||"Not Specified",e.jsx("br",{}),e.jsx("small",{className:"text-muted",children:((_=s==null?void 0:s.workPreference)==null?void 0:_.shiftType)||"Not Specified"})]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"preference-item",children:[e.jsxs("h6",{className:"text-muted mb-1",children:[e.jsx("i",{className:"fas fa-users-cog me-2"}),"Job Nature"]}),e.jsx("p",{className:"mb-0",children:((H=s==null?void 0:s.workPreference)==null?void 0:H.jobNature)||"Not Specified"})]})})]}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:"mb-3",children:e.jsx("i",{className:"fas fa-briefcase fa-3x text-muted"})}),e.jsx("p",{className:"mb-3",children:"No work preferences have been added yet."}),e.jsxs("button",{className:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#updateWorkPreferenceModal",children:[e.jsx("i",{className:"fas fa-plus-circle me-1"})," Add Work Preferences"]})]})})]}),e.jsx("div",{className:"modal fade",id:"updateWorkPreferenceModal",tabIndex:"-1","aria-labelledby":"workPreferenceModalLabel","aria-hidden":"true",children:e.jsx("div",{className:"modal-dialog modal-lg",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",id:"workPreferenceModalLabel",children:j?"Update Work Preferences":"Add Work Preferences"}),e.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"row mb-3",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:"Job Role"}),e.jsx("input",{type:"text",className:"form-control",name:"jobRole",placeholder:"Job Role",min:"0",value:i.jobRole,onChange:x})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:"Job Location"}),e.jsx("input",{type:"text",className:"form-control",name:"jobLocation",placeholder:"Job Role",min:"0",value:i.jobLocation,onChange:x})]})]}),e.jsxs("div",{className:"row mb-3",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:"Job Type"}),e.jsxs("select",{className:"form-select",name:"jobType",value:i.jobType,onChange:x,children:[e.jsx("option",{value:"",children:"Select Job Type"}),e.jsx("option",{value:"Full-time",children:"Full-time"}),e.jsx("option",{value:"Part-time",children:"Part-time"}),e.jsx("option",{value:"Contract",children:"Contract"}),e.jsx("option",{value:"Freelance",children:"Freelance"}),e.jsx("option",{value:"Internship",children:"Internship"})]})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:"Shift Type"}),e.jsxs("select",{className:"form-select",name:"shiftType",value:i.shiftType,onChange:x,children:[e.jsx("option",{value:"",children:"Select Shift Type"}),e.jsx("option",{value:"Day",children:"Day"}),e.jsx("option",{value:"Night",children:"Night"}),e.jsx("option",{value:"Flexible",children:"Flexible"}),e.jsx("option",{value:"Rotational",children:"Rotational"}),e.jsx("option",{value:"Fixed",children:"Fixed"})]})]})]}),e.jsxs("div",{className:"row mb-3",children:[e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"Minimum Salary (₹)"}),e.jsx("input",{type:"number",className:"form-control",name:"minSalaryAmount",placeholder:"Min Amount",min:"0",value:i.minSalaryAmount,onChange:x})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"Maximum Salary (₹)"}),e.jsx("input",{type:"number",className:"form-control",name:"maxSalaryAmount",placeholder:"Max Amount",min:"0",value:i.maxSalaryAmount,onChange:x})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"Salary Type"}),e.jsxs("select",{className:"form-select",name:"salaryType",value:i.salaryType,onChange:x,children:[e.jsx("option",{value:"",children:"Select Type"}),e.jsx("option",{value:"Monthly",children:"Monthly"}),e.jsx("option",{value:"Annual",children:"Annual"}),e.jsx("option",{value:"Weekly",children:"Weekly"}),e.jsx("option",{value:"Hourly",children:"Hourly"}),e.jsx("option",{value:"Daily",children:"Daily"})]})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Job Nature"}),e.jsxs("select",{className:"form-select",name:"jobNature",value:i.jobNature,onChange:x,children:[e.jsx("option",{value:"",children:"Select Job Nature"}),e.jsx("option",{value:"On-site",children:"On-site"}),e.jsx("option",{value:"Remote",children:"Remote"}),e.jsx("option",{value:"Hybrid",children:"Hybrid"}),e.jsx("option",{value:"Field",children:"Field"}),e.jsx("option",{value:"Travel Required",children:"Travel Required"})]})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",id:"closeWorkPreferenceModal",children:"Cancel"}),e.jsx("button",{type:"button",className:"btn btn-primary",onClick:oe,disabled:y,children:y?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Saving..."]}):"Save Preferences"})]})]})})})]}),e.jsx("div",{className:"col-md-8",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header p-0 border-bottom-0",children:e.jsxs("ul",{className:"nav nav-tabs nav-tabs-bordered",children:[e.jsx("li",{className:"nav-item",children:e.jsxs("a",{className:`nav-link ${h==="jobs"?"active":""}`,href:"#",onClick:a=>N("jobs",a),children:[e.jsx("i",{className:"fas fa-briefcase me-1"}),"Applied Jobs"]})}),e.jsx("li",{className:"nav-item",children:e.jsxs("a",{className:`nav-link ${h==="reviews"?"active":""}`,href:"#",onClick:a=>N("reviews",a),children:[e.jsx("i",{className:"fas fa-star me-1"}),"Reviews"]})}),e.jsx("li",{className:"nav-item",children:e.jsxs("a",{className:`nav-link ${h==="experience"?"active":""}`,href:"#",onClick:a=>N("experience",a),children:[e.jsx("i",{className:"fas fa-history me-1"}),"Experience"]})})]})}),e.jsxs("div",{className:"card-body",children:[h==="jobs"&&e.jsxs("div",{className:"tab-content",children:[e.jsx("div",{className:"d-flex justify-content-between align-items-center mb-3",children:e.jsxs("h5",{className:"mb-0",children:["Applied Jobs (",((G=s==null?void 0:s.appliedJobs)==null?void 0:G.length)||0,")"]})}),s!=null&&s.appliedJobs&&s.appliedJobs.length>0?e.jsx("div",{className:"applied-jobs-list",children:s.appliedJobs.map((a,r)=>{var c,m,o,l,n,d,t,K,X,Z,D,ee,se,ae,le,ie,ce;return e.jsxs("div",{className:"job-card mb-3 border rounded p-3 position-relative",children:[e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-8",children:e.jsxs("div",{className:"d-flex",children:[e.jsx("div",{className:"company-logo me-3",children:e.jsx("img",{src:((m=(c=a.jobPostId)==null?void 0:c.companyId)==null?void 0:m.companyLogo)||ne,alt:"Company Logo",className:"rounded-circle",width:"60",height:"60",style:{objectFit:"cover"}})}),e.jsxs("div",{children:[e.jsx("h5",{className:"mb-1",children:(l=(o=a.jobPostId)==null?void 0:o.jobTitle)!=null&&l._id?a.jobPostId.jobTitle.title:((n=a.jobPostId)==null?void 0:n.jobTitle)||"N/A"}),e.jsxs("p",{className:"text-muted mb-1",children:[e.jsx("i",{className:"fas fa-building me-1"}),((t=(d=a.jobPostId)==null?void 0:d.companyId)==null?void 0:t.companyName)||"N/A"]}),e.jsxs("p",{className:"text-muted mb-1 small",children:[e.jsx("i",{className:"fas fa-map-marker-alt me-1"}),((Z=(X=(K=a.jobPostId)==null?void 0:K.branchData)==null?void 0:X.address)==null?void 0:Z.substring(0,50))||"No address"]}),e.jsxs("p",{className:"mb-0 text-truncate",style:{maxWidth:"400px"},children:[((ee=(D=a.jobPostId)==null?void 0:D.jobDescription)==null?void 0:ee.substring(0,80))||"No description","..."]})]})]})}),e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"d-flex flex-column h-100 justify-content-between align-items-end",children:[e.jsxs("div",{className:"job-badges mb-2",children:[e.jsx("span",{className:"badge bg-light text-dark me-2",children:((se=a.jobPostId)==null?void 0:se.jobType)||"N/A"}),e.jsx("span",{className:`badge ${(ae=a.jobPostId)!=null&&ae.paymentDone?"bg-success":"bg-danger"}`,children:(le=a.jobPostId)!=null&&le.paymentDone?"Paid":"Unpaid"})]}),e.jsxs("div",{className:"job-salary mb-2",children:[e.jsxs("span",{className:"d-block text-end text-dark",children:[e.jsx("i",{className:"fas fa-rupee-sign me-1"}),(ie=a.jobPostId)!=null&&ie.salaryRange?`${a.jobPostId.salaryRange.minSalary} - ${a.jobPostId.salaryRange.maxSalary}`:"N/A"]}),e.jsx("small",{className:"text-muted",children:((ce=a.jobPostId)==null?void 0:ce.salaryType)||""})]}),e.jsx("div",{className:"job-status",children:e.jsx("span",{className:"badge rounded-pill px-3 py-2",style:{backgroundColor:a.statusBgColor||"#E6F7FF",color:a.statusColor||"#1890FF"},children:a.applicationStatus||a.status||"Applied"})})]})})]}),e.jsx("div",{className:"job-footer mt-3 pt-3 border-top d-flex justify-content-between align-items-center",children:e.jsx("div",{className:"application-date",children:e.jsxs("small",{className:"text-muted",children:[e.jsx("i",{className:"fas fa-calendar-alt me-1"}),"Applied: ",a.appliedAt?new Date(a.appliedAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):a.timeText||"N/A"]})})})]},r)})}):e.jsxs("div",{className:"text-center py-5",children:[e.jsx("i",{className:"fas fa-briefcase fa-4x text-muted mb-3"}),e.jsx("h5",{children:"No Jobs Applied"}),e.jsx("p",{className:"text-muted",children:"This user hasn't applied to any jobs yet."})]})]}),h==="reviews"&&e.jsxs("div",{className:"tab-content",children:[e.jsx("div",{className:"d-flex justify-content-between align-items-center mb-3",children:e.jsxs("h5",{className:"mb-0",children:["Performance Reviews (",((Q=s==null?void 0:s.review)==null?void 0:Q.length)||0,")"]})}),s!=null&&s.review&&s.review.length>0?e.jsx("div",{className:"reviews-list",children:s.review.map((a,r)=>{var c,m,o;return e.jsxs("div",{className:"review-card mb-4 border rounded shadow-sm",children:[e.jsx("div",{className:"review-header bg-primary text-white p-3 rounded-top",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsxs("h5",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-building me-2"}),((c=a.userId)==null?void 0:c.name)||((m=a.companyId)==null?void 0:m.companyName)||((o=a.branchId)==null?void 0:o.entity)||"Anonymous Reviewer"]}),a.offerLetterId&&e.jsxs("small",{className:"text-white-50",children:[e.jsx("i",{className:"fas fa-briefcase me-1"}),a.offerLetterId.jobTitle||"Job Position"]})]}),e.jsx("div",{className:"review-date",children:e.jsxs("span",{className:"badge bg-light text-primary",children:[e.jsx("i",{className:"far fa-calendar-alt me-1"}),a.createdAt?new Date(a.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):""]})})]})}),a.questions&&a.questions.some(l=>l.type==="star")&&e.jsx("div",{className:"review-rating bg-light p-3 border-bottom",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("h6",{className:"mb-0 fw-bold",children:"Overall Performance"}),e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"stars me-2",children:(()=>{const l=a.questions.filter(d=>d.type==="star"),n=l.length>0?Math.round(l.reduce((d,t)=>d+parseInt(t.answer||0),0)/l.length):0;return[...Array(5)].map((d,t)=>e.jsx("i",{className:`fas fa-star ${t<n?"text-warning":"text-muted"}`,style:{fontSize:"18px"}},t))})()}),e.jsx("span",{className:"badge bg-primary rounded-pill",children:(()=>{const l=a.questions.filter(n=>n.type==="star");return l.length>0?(l.reduce((n,d)=>n+parseInt(d.answer||0),0)/l.length).toFixed(1):"N/A"})()})]})]})}),e.jsxs("div",{className:"review-content p-3",children:[a.questions&&a.questions.filter(l=>l.type==="star").length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("h6",{className:"border-bottom pb-2 mb-3",children:[e.jsx("i",{className:"fas fa-chart-bar text-primary me-1"}),"Performance Metrics"]}),e.jsx("div",{className:"row",children:a.questions.filter(l=>l.type==="star").map((l,n)=>e.jsx("div",{className:"col-md-6 mb-3",children:e.jsxs("div",{className:"rating-item p-2 rounded border",children:[e.jsx("div",{className:"mb-2 small fw-bold",children:l.question}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("div",{className:"progress flex-grow-1 me-2",style:{height:"8px"},children:e.jsx("div",{className:"progress-bar bg-success",role:"progressbar",style:{width:`${parseInt(l.answer||0)*20}%`},"aria-valuenow":parseInt(l.answer||0),"aria-valuemin":"0","aria-valuemax":"5"})}),e.jsx("div",{className:"rating-value",children:e.jsxs("span",{className:"badge bg-dark",children:[l.answer,"/5"]})})]}),e.jsx("div",{className:"rating-stars mt-1",children:[...Array(5)].map((d,t)=>e.jsx("i",{className:`fas fa-star ${t<parseInt(l.answer||0)?"text-warning":"text-muted"}`,style:{fontSize:"14px"}},t))})]})},n))})]}),a.questions&&a.questions.filter(l=>l.type==="text").length>0&&e.jsxs("div",{children:[e.jsxs("h6",{className:"border-bottom pb-2 mb-3",children:[e.jsx("i",{className:"fas fa-comment-alt text-primary me-1"}),"Feedback"]}),a.questions.filter(l=>l.type==="text").map((l,n)=>e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"feedback-question mb-2 bg-light p-2 rounded",children:[e.jsx("i",{className:"fas fa-question-circle text-primary me-1"}),e.jsx("strong",{children:l.question})]}),e.jsxs("div",{className:"feedback-answer p-3 bg-white rounded border",children:[e.jsx("i",{className:"fas fa-quote-left text-muted me-2 opacity-50"}),l.answer||"No response provided.",e.jsx("i",{className:"fas fa-quote-right text-muted ms-2 opacity-50"})]})]},n))]}),(!a.questions||a.questions.length===0)&&e.jsxs("div",{className:"text-center py-4",children:[e.jsx("i",{className:"fas fa-clipboard-list text-muted mb-3",style:{fontSize:"3rem"}}),e.jsx("p",{className:"text-muted",children:"No detailed review information available for this assessment."})]})]})]},r)})}):e.jsxs("div",{className:"text-center py-5",children:[e.jsx("i",{className:"fas fa-star-half-alt text-muted mb-3",style:{fontSize:"4rem"}}),e.jsx("h5",{children:"No Performance Reviews Yet"}),e.jsx("p",{className:"text-muted",children:"This user hasn't received any performance reviews."})]})]}),h==="experience"&&e.jsxs("div",{className:"tab-content",children:[e.jsx("div",{className:"d-flex justify-content-between align-items-center mb-3",children:e.jsxs("h5",{className:"mb-0",children:["Work Experience (",((Y=s==null?void 0:s.experience)==null?void 0:Y.length)||0,")"]})}),s!=null&&s.experience&&s.experience.length>0?e.jsx("div",{className:"timeline",children:s.experience.map((a,r)=>e.jsxs("div",{className:"timeline-item mb-4",children:[e.jsx("div",{className:"timeline-marker"}),e.jsxs("div",{className:"timeline-content card border-0 shadow-sm",children:[e.jsx("div",{className:"card-header bg-light py-2",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("h5",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-building me-2 text-primary"}),a==null?void 0:a.companyName]}),e.jsx("span",{className:"badge bg-primary ",children:a==null?void 0:a.jobType})]})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"row mb-2",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{className:"fas fa-briefcase text-muted me-2"}),e.jsxs("div",{children:[e.jsx("small",{className:"text-muted d-block",children:"Position"}),e.jsx("span",{className:"text-dark",children:(a==null?void 0:a.jobRole)||"Not specified"})]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{className:"fas fa-map-marker-alt text-muted me-2"}),e.jsxs("div",{children:[e.jsx("small",{className:"text-muted d-block",children:"Location"}),e.jsx("span",{className:"text-dark",children:(a==null?void 0:a.companyLocation)||"Not specified"})]})]})})]}),e.jsxs("div",{className:"row mb-2",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{className:"fas fa-user-clock text-muted me-2"}),e.jsxs("div",{children:[e.jsx("small",{className:"text-muted d-block",children:"Job Nature"}),e.jsx("span",{className:"text-dark",children:(a==null?void 0:a.jobNature)||"Not specified"})]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{className:"fas fa-money-bill-wave text-muted me-2"}),e.jsxs("div",{children:[e.jsx("small",{className:"text-muted d-block",children:"Salary"}),e.jsxs("span",{className:"text-dark",children:[a==null?void 0:a.salaryType," - ₹",a==null?void 0:a.salaryAmount]})]})]})})]}),e.jsxs("div",{className:"d-flex align-items-center mt-3",children:[e.jsx("i",{className:"fas fa-calendar-alt text-primary me-2"}),e.jsxs("div",{children:[e.jsx("small",{className:"text-muted d-block",children:"Duration"}),e.jsxs("span",{className:"text-dark",children:["Started: ",a!=null&&a.startDate?new Date(a.startDate).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Not specified",a!=null&&a.endDate?` - Ended: ${new Date(a.endDate).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}`:" - Present"]})]})]})]})]})]},r))}):e.jsxs("div",{className:"text-center py-5",children:[e.jsx("i",{className:"fas fa-briefcase text-muted mb-3",style:{fontSize:"4rem"}}),e.jsx("h5",{children:"No Work Experience"}),e.jsx("p",{className:"text-muted",children:"This user hasn't added any work experience yet."})]})]})]})]})})]})]}),e.jsx("style",{jsx:!0,children:`
        .avatar-lg {
          width: 48px;
          height: 48px;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 1.5rem;
        }
        .bg-light-primary {
          background-color: rgba(0, 123, 255, 0.15);
        }
        .bg-light-success {
          background-color: rgba(40, 167, 69, 0.15);
        }
        .bg-light-info {
          background-color: rgba(23, 162, 184, 0.15);
        }
        .bg-light-warning {
          background-color: rgba(255, 193, 7, 0.15);
        }
        .timeline {
          position: relative;
          padding-left: 30px;
        }
        .timeline:before {
          content: '';
          position: absolute;
          top: 10px;
          bottom: 0;
          left: 8px;
          width: 3px;
          background: #e9ecef;
        }
        .timeline-item {
          position: relative;
        }
          
        .timeline-marker {
          position: absolute;
          left: -30px;
          top: 10px;
          width: 18px;
          height: 18px;
          border-radius: 50%;
          background: #primary;
          border: 3px solid #fff;
          box-shadow: 0 0 0 3px #0d6efd;
        }
        .nav-tabs-bordered {
          border-bottom: 1px solid #dee2e6;
        }
        .nav-tabs-bordered .nav-link {
          margin-bottom: -1px;
          border: 1px solid transparent;
          border-top-left-radius: 0.25rem;
          border-top-right-radius: 0.25rem;
        }
        .nav-tabs-bordered .nav-link:hover,
        .nav-tabs-bordered .nav-link:focus {
          border-color: #e9ecef #e9ecef #dee2e6;
        }
        .nav-tabs-bordered .nav-link.active {
          color: #0d6efd;
          background-color: #fff;
          border-color: #dee2e6 #dee2e6 #fff;
        }
      `})]})};export{pe as default};
