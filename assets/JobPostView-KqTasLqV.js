import{u as z,r as E,j as e,L as O,B as o}from"./index-CfzXU5K9.js";import{p as x,u as K}from"./Job-BYBLypJI.js";import"./axiosInstance-BYKqn8JH.js";const Q=()=>{var h,j,b,N,p,f,u,v,g,y,w,k,S,T,I,C,D,P,A,L,$,_,J,G,R;const B=z(),{post:s}=B.state||{};console.log(s);const[H,d]=E.useState(!1),[l,M]=E.useState({id:s==null?void 0:s._id,minSalary:(h=s==null?void 0:s.salaryRange)==null?void 0:h.minSalary,maxSalary:(j=s==null?void 0:s.salaryRange)==null?void 0:j.maxSalary,salaryType:s==null?void 0:s.salaryType,employmentType:s==null?void 0:s.employmentType,jobDescription:s==null?void 0:s.jobDescription,preferredGender:s==null?void 0:s.preferredGender,jobType:s==null?void 0:s.jobType}),V=async()=>{try{const a=await K(l);a.success?o.success(`${a.title}`):o.error(`${a.title}`)}catch(a){o.error(`${a.message}`)}console.log("Form Data:",l),d(!1)},i=a=>{const{name:c,value:t}=a.target;M(m=>({...m,[c]:t}))},n=a=>a?(typeof a=="string"?parseFloat(a.replace(/,/g,"")):a).toLocaleString("en-IN"):"N/A",r=a=>a?new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A";return e.jsxs("div",{className:"page-wrapper",children:[e.jsxs("div",{className:"content container-fluid",children:[e.jsx("div",{className:"page-header",children:e.jsxs("div",{className:"row align-items-center",children:[e.jsx("div",{className:"col",children:e.jsxs("ul",{className:"breadcrumb",children:[e.jsx("li",{className:"breadcrumb-item",children:e.jsx(O,{to:"/jobPostList",children:"Job Posts"})}),e.jsx("li",{className:"breadcrumb-item active",children:s==null?void 0:s._id})]})}),e.jsx("div",{className:"col-auto",children:e.jsxs(O,{to:"/jobPostList",className:"btn btn-primary btn-sm",children:[e.jsx("i",{className:"fas fa-arrow-left me-1"})," Back to List"]})})]})}),s?e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-lg-8",children:[e.jsx("div",{className:"card mb-4",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"d-flex align-items-center mb-4",children:[e.jsx("img",{src:((b=s.companyId)==null?void 0:b.companyLogo)||x,alt:((N=s.companyId)==null?void 0:N.companyName)||"Company",className:"me-3 rounded-circle",width:"80",height:"80",style:{objectFit:"cover"}}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-1",children:((p=s.jobTitle)==null?void 0:p.title)||"Untitled Position"}),e.jsxs("div",{className:"d-flex align-items-center flex-wrap",children:[e.jsxs("span",{className:"me-3 text-dark",children:[e.jsx("i",{className:"fas fa-building me-1 text-primary"}),((f=s.companyId)==null?void 0:f.companyName)||"Unknown Company"]}),e.jsxs("span",{className:"me-3 text-dark",children:[e.jsx("i",{className:"fas fa-map-marker-alt me-1 text-danger"}),(u=s.branchData)!=null&&u.address?s.branchData.address.split(",").slice(0,2).join(","):"Location not specified"]}),e.jsxs("span",{className:"text-dark",children:[e.jsx("i",{className:"fas fa-calendar-alt me-1 text-info"}),"Posted: ",r(s.createdAt)]})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("span",{className:`badge bg-${s.status==="Open"?"success":"secondary"} me-2`,children:s.status}),e.jsx("span",{className:`badge bg-${s.paymentDone?"success":"warning text-dark"} me-2`,children:s.paymentDone?"Payment Completed":"Payment Pending"}),s.urgency&&e.jsxs("span",{className:`badge bg-${s.urgency==="Immediate"?"danger":s.urgency==="In a week"?"warning text-dark":"info"} me-2`,children:[e.jsx("i",{className:"fas fa-bolt me-1"}),s.urgency]})]})]})]}),e.jsxs("div",{className:"job-details-section mb-4",children:[e.jsxs("h5",{className:"section-title border-bottom pb-2 mb-3",children:[e.jsx("i",{className:"fas fa-info-circle me-2"}),"Job Description"]}),e.jsx("p",{children:l.jobDescription||s.jobDescription||"No description provided."})]}),e.jsxs("div",{className:"job-details-section mb-4",children:[e.jsxs("h5",{className:"section-title border-bottom pb-2 mb-3",children:[e.jsx("i",{className:"fas fa-clipboard-list me-2"}),"Key Details"]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6 mb-3",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"feature-icon bg-light-primary rounded-circle p-2 me-3",children:e.jsx("i",{className:"fas fa-briefcase text-primary"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted small",children:"Job Type"}),e.jsx("div",{className:"fw-medium",children:(l==null?void 0:l.jobType)||s.jobType||"Not specified"})]})]})}),e.jsx("div",{className:"col-md-6 mb-3",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"feature-icon bg-light-success rounded-circle p-2 me-3",children:e.jsx("i",{className:"fas fa-user-tie text-success"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted small",children:"Employment Type"}),e.jsx("div",{className:"fw-medium",children:(l==null?void 0:l.employmentType)||s.employmentType||"Not specified"})]})]})}),e.jsx("div",{className:"col-md-6 mb-3",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"feature-icon bg-light-danger rounded-circle p-2 me-3",children:e.jsx("i",{className:"fas fa-venus-mars text-danger"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted small",children:"Preferred Gender"}),e.jsx("div",{className:"fw-medium",children:(l==null?void 0:l.preferredGender)||(s==null?void 0:s.preferredGender)})]})]})}),e.jsx("div",{className:"col-md-6 mb-3",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"feature-icon bg-light-warning rounded-circle p-2 me-3",children:e.jsx("i",{className:"fas fa-bolt text-warning"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted small",children:"Urgency"}),e.jsx("div",{className:"fw-medium",children:s.urgency||"Not specified"})]})]})})]})]}),e.jsxs("div",{className:"job-details-section mb-4",children:[e.jsxs("h5",{className:"section-title border-bottom pb-2 mb-3",children:[e.jsx("i",{className:"fas fa-money-bill-wave me-2"}),"Salary Information"]}),e.jsx("div",{className:"salary-card bg-light p-3 rounded",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"d-block text-muted mb-1",children:["Salary Range (",(l==null?void 0:l.salaryType)||s.salaryType,")"]}),e.jsxs("h4",{className:"mb-0",children:["₹",n(l==null?void 0:l.minSalary)||n(((v=s.salaryRange)==null?void 0:v.minSalary)||0)," - ₹",n(l==null?void 0:l.maxSalary)||n(((g=s.salaryRange)==null?void 0:g.maxSalary)||0)]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"d-block text-muted mb-1",children:"Payment Status"}),e.jsx("span",{className:`badge ${s.paymentDone?"bg-success":"bg-warning text-dark"} px-3 py-2`,children:s.paymentDone?"Paid":"Unpaid"})]})]})}),s.allowances&&s.allowances.length>0&&e.jsxs("div",{className:"mt-3",children:[e.jsx("h6",{className:"mb-2",children:"Additional Allowances:"}),e.jsx("div",{className:"d-flex flex-wrap",children:s.allowances.map((a,c)=>e.jsxs("span",{className:"badge bg-light text-dark m-1 p-2",children:[e.jsx("i",{className:"fas fa-plus-circle text-success me-1"}),a]},c))})]})]}),s.shareLink&&e.jsxs("div",{className:"job-details-section",children:[e.jsxs("h5",{className:"section-title border-bottom pb-2 mb-3",children:[e.jsx("i",{className:"fas fa-share-alt me-2"}),"Share Job"]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"input-group",children:[e.jsx("input",{type:"text",className:"form-control",value:s.shareLink,readOnly:!0}),e.jsx("button",{className:"btn btn-outline-secondary",type:"button",onClick:()=>navigator.clipboard.writeText(s.shareLink),children:e.jsx("i",{className:"fas fa-copy"})})]}),e.jsx("div",{className:"ms-3",children:e.jsxs("a",{href:`https://wa.me/?text=${encodeURIComponent(`Check out this job: ${(y=s.jobTitle)==null?void 0:y.title} at ${(w=s.companyId)==null?void 0:w.companyName}. ${s.shareLink}`)}`,target:"_blank",rel:"noopener noreferrer",className:"btn btn-success",children:[e.jsx("i",{className:"fab fa-whatsapp me-1"}),"Share"]})})]}),s.shareImg&&e.jsx("div",{className:"mt-3 text-center",children:e.jsx("img",{src:s.shareImg,alt:"Job Share Image",className:"img-fluid rounded",style:{maxHeight:"200px"}})})]})]})}),e.jsxs("div",{className:"card mb-4",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h5",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-users me-2"}),"Applicants"]})}),e.jsxs("div",{className:"card-body",children:[e.jsx("div",{className:"applicants-summary mb-3",children:e.jsxs("div",{className:"row g-3 text-center",children:[e.jsx("div",{className:"col-md-3 col-sm-6",children:e.jsxs("div",{className:"p-3 border rounded bg-light",children:[e.jsx("h3",{className:"mb-1",children:((S=(k=s.applicants)==null?void 0:k.applicants)==null?void 0:S.length)||0}),e.jsx("p",{className:"mb-0 text-muted",children:"Total Applicants"})]})}),e.jsx("div",{className:"col-md-3 col-sm-6",children:e.jsxs("div",{className:"p-3 border rounded bg-light",children:[e.jsx("h3",{className:"mb-1",children:s.hiredNumber||0}),e.jsx("p",{className:"mb-0 text-muted",children:"Hired"})]})}),e.jsx("div",{className:"col-md-3 col-sm-6",children:e.jsxs("div",{className:"p-3 border rounded bg-light",children:[e.jsx("h3",{className:"mb-1",children:s.jobOfferedNumber||0}),e.jsx("p",{className:"mb-0 text-muted",children:"Offers Made"})]})}),e.jsx("div",{className:"col-md-3 col-sm-6",children:e.jsxs("div",{className:"p-3 border rounded bg-light",children:[e.jsx("h3",{className:"mb-1",children:s.numberOfAvailableHiring||0}),e.jsx("p",{className:"mb-0 text-muted",children:"Available Positions"})]})})]})}),(T=s.applicants)!=null&&T.applicants&&s.applicants.applicants.length>0?e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-bordered table-hover",children:[e.jsx("thead",{className:"table-light",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Applicant"}),e.jsx("th",{children:"Applied Date"}),e.jsx("th",{children:"Status"})]})}),e.jsx("tbody",{children:s.applicants.applicants.map((a,c)=>{var t,m,U,F;return e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("img",{src:((t=a.userId)==null?void 0:t.profile)||x,alt:"",className:"rounded-circle me-2",width:"40",height:"40"}),e.jsxs("div",{children:[e.jsx("h6",{className:"mb-0",children:((U=(m=a.userId)==null?void 0:m.basicDetails)==null?void 0:U.name)||"Unnamed User"}),e.jsx("small",{children:((F=a.userId)==null?void 0:F.phoneNumber)||"No phone"})]})]})}),e.jsx("td",{children:r(a.appliedAt)}),e.jsx("td",{children:e.jsx("span",{className:`badge ${a.status==="Hired"?"bg-success":a.status==="Rejected"?"bg-danger":a.status==="Shortlisted"?"bg-info":"bg-secondary"}`,children:a.status||"Applied"})})]},c)})})]})}):e.jsxs("div",{className:"text-center py-5",children:[e.jsx("i",{className:"fas fa-users text-muted fa-3x mb-3"}),e.jsx("h5",{children:"No Applicants Yet"}),e.jsx("p",{className:"text-muted",children:"This job hasn't received any applications yet."})]})]})]})]}),e.jsxs("div",{className:"col-lg-4",children:[e.jsxs("div",{className:"card mb-4",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h5",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-building me-2"}),"Company Information"]})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"text-center mb-3",children:[e.jsx("img",{src:((I=s.companyId)==null?void 0:I.companyLogo)||x,alt:((C=s.companyId)==null?void 0:C.companyName)||"Company",className:"rounded-circle mb-3",width:"100",height:"100",style:{objectFit:"cover"}}),e.jsx("h5",{children:((D=s.companyId)==null?void 0:D.companyName)||"Unknown Company"}),e.jsx("p",{className:"text-muted",children:((P=s.companyId)==null?void 0:P.companyRole)||"Business Owner"})]}),e.jsxs("div",{className:"company-details",children:[e.jsxs("div",{className:"detail-item d-flex mb-3",children:[e.jsx("div",{className:"detail-icon me-3",children:e.jsx("i",{className:"fas fa-user text-primary"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted small",children:"Business Owner"}),e.jsx("div",{children:((A=s.userId)==null?void 0:A.name)||"Unknown"})]})]}),e.jsxs("div",{className:"detail-item d-flex mb-3",children:[e.jsx("div",{className:"detail-icon me-3",children:e.jsx("i",{className:"fas fa-phone text-primary"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted small",children:"Contact Number"}),e.jsx("div",{children:((L=s.userId)==null?void 0:L.phoneNumber)||"Unknown"})]}),e.jsxs("div",{className:"mx-3",children:[e.jsx("div",{className:"text-muted small",children:"userId"}),e.jsx("div",{children:(($=s.userId)==null?void 0:$._id)||"Unknown"})]})]}),e.jsxs("div",{className:"detail-item d-flex mb-3",children:[e.jsx("div",{className:"detail-icon me-3",children:e.jsx("i",{className:"fas fa-map-marker-alt text-primary"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted small",children:"Location"}),e.jsx("div",{children:((_=s.userId)==null?void 0:_.currentCity)||"Not specified"})]})]}),e.jsxs("div",{className:"detail-item d-flex",children:[e.jsx("div",{className:"detail-icon me-3",children:e.jsx("i",{className:"fas fa-calendar-alt text-primary"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted small",children:"Registered"}),e.jsx("div",{children:r((J=s.userId)==null?void 0:J.createdAt)})]})]})]})]})]}),e.jsxs("div",{className:"card mb-4",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h5",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-file-invoice me-2"}),"GST Information"]})}),e.jsx("div",{className:"card-body",children:s.branchData?e.jsxs("div",{children:[e.jsx("div",{className:"text-center mb-3",children:e.jsxs("div",{className:`badge ${s.branchData.gst_in_status==="Active"?"bg-success":"bg-danger"} p-2`,children:[e.jsx("i",{className:`fas ${s.branchData.gst_in_status==="Active"?"fa-check-circle":"fa-times-circle"} me-1`}),s.branchData.gst_in_status]})}),e.jsxs("div",{className:"gst-details",children:[e.jsxs("div",{className:"detail-item d-flex mb-3",children:[e.jsx("div",{className:"detail-icon me-3",children:e.jsx("i",{className:"fas fa-receipt text-primary"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted small",children:"GSTIN"}),e.jsx("div",{className:"fw-medium",children:s.branchData.GSTIN})]})]}),e.jsxs("div",{className:"detail-item d-flex mb-3",children:[e.jsx("div",{className:"detail-icon me-3",children:e.jsx("i",{className:"fas fa-building text-primary"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted small",children:"Legal Business Name"}),e.jsx("div",{children:s.branchData.legal_name_of_business})]})]}),e.jsxs("div",{className:"detail-item d-flex mb-3",children:[e.jsx("div",{className:"detail-icon me-3",children:e.jsx("i",{className:"fas fa-map-marked-alt text-primary"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted small",children:"Address"}),e.jsx("div",{children:s.branchData.address})]})]}),e.jsxs("div",{className:"detail-item d-flex",children:[e.jsx("div",{className:"detail-icon me-3",children:e.jsx("i",{className:"fas fa-calendar-check text-primary"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted small",children:"Registration Date"}),e.jsx("div",{children:r(s.branchData.date_of_registration)})]})]})]}),e.jsxs("div",{className:"mt-3 d-flex flex-wrap",children:[s.branchData.isLinked&&e.jsxs("span",{className:"badge bg-info m-1",children:[e.jsx("i",{className:"fas fa-link me-1"})," Linked"]}),s.branchData.valid&&e.jsxs("span",{className:"badge bg-success m-1",children:[e.jsx("i",{className:"fas fa-check-circle me-1"})," Valid"]}),s.branchData.isSecondaryVerified&&e.jsxs("span",{className:"badge bg-primary m-1",children:[e.jsx("i",{className:"fas fa-shield-alt me-1"})," Secondary Verified"]})]})]}):e.jsxs("div",{className:"text-center py-3",children:[e.jsx("i",{className:"fas fa-exclamation-circle text-warning fa-3x mb-3"}),e.jsx("h6",{children:"No GST Information Available"}),e.jsx("p",{className:"text-muted small mb-0",children:"GST details haven't been added for this job posting."})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h5",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-cogs me-2"}),"Actions"]})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"d-grid gap-2",children:[e.jsxs("button",{className:"btn btn-primary",onClick:()=>d(!0),children:[e.jsx("i",{className:"fas fa-edit me-1"})," Edit Job Post"]}),H&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"modal-backdrop fade show",style:{zIndex:1040}}),e.jsx("div",{className:"modal fade show d-block",tabIndex:"-1",style:{zIndex:1050},children:e.jsx("div",{className:"modal-dialog modal-dialog-centered modal-lg",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:"Edit Job Post"}),e.jsx("button",{type:"button",className:"btn-close",onClick:()=>d(!1)})]}),e.jsx("div",{className:"modal-body",children:e.jsx("form",{children:e.jsxs("div",{className:"row g-3",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:"Salary From"}),e.jsx("input",{type:"number",className:"form-control",name:"minSalary",value:l.minSalary,onChange:a=>i(a),placeholder:"e.g. 10000"})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:"Salary To"}),e.jsx("input",{type:"number",className:"form-control",name:"maxSalary",value:l.maxSalary,onChange:a=>i(a),placeholder:"e.g. 20000"})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:"Salary Type"}),e.jsx("input",{type:"text",className:"form-control",name:"salaryType",value:l.salaryType,onChange:a=>i(a),placeholder:"Monthly / Weekly / Daily"})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:"Job Type"}),e.jsx("input",{type:"text",className:"form-control",name:"jobType",value:l.jobType,onChange:a=>i(a),placeholder:"Contract / "})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:"Employment Type"}),e.jsx("input",{type:"text",className:"form-control",name:"employmentType",value:l.employmentType,onChange:a=>i(a),placeholder:"Part-Time / Full-Time "})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:"preferred Gender"}),e.jsx("input",{type:"text",className:"form-control",name:"preferredGender",value:l.preferredGender,onChange:a=>i(a),placeholder:"Part-Time / Full-Time "})]}),e.jsxs("div",{className:"col-12",children:[e.jsx("label",{className:"form-label",children:"Description"}),e.jsx("textarea",{className:"form-control",name:"jobDescription",rows:"3",value:l.jobDescription,onChange:a=>i(a),placeholder:"Job description..."})]})]})})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>d(!1),children:"Cancel"}),e.jsx("button",{type:"button",className:"btn btn-primary",onClick:V,children:"Save Changes"})]})]})})})]}),s.status==="Open"?e.jsxs("button",{className:"btn btn-warning",children:[e.jsx("i",{className:"fas fa-pause-circle me-1"})," Close Job Post Comming Soon...."]}):e.jsxs("button",{className:"btn btn-success",children:[e.jsx("i",{className:"fas fa-play-circle me-1"})," Reopen Job Post"]}),e.jsxs("a",{className:"btn btn-info",href:`https://wa.me/?text=${encodeURIComponent(`Check out this job: ${(G=s.jobTitle)==null?void 0:G.title} at ${(R=s.companyId)==null?void 0:R.companyName}. ${s.shareLink}`)}`,target:"_blank",rel:"noopener noreferrer",children:[e.jsx("i",{className:"fas fa-share-alt me-1"})," Share Job"]}),e.jsxs("button",{className:"btn btn-danger",children:[e.jsx("i",{className:"fas fa-trash-alt me-1"})," Delete Job"]})]})})]})]})]}):e.jsx("div",{className:"alert alert-warning",children:"No job post data available. Please go back and select a job."})]}),e.jsx("style",{jsx:!0,children:`
        .feature-icon {
          width: 36px;
          height: 36px;
          display: flex;
          align-items: center;
          justify-content: center;
        }
        .bg-light-primary {
          background-color: rgba(0, 123, 255, 0.15);
        }
        .bg-light-success {
          background-color: rgba(40, 167, 69, 0.15);
        }
        .bg-light-danger {
          background-color: rgba(220, 53, 69, 0.15);
        }
        .bg-light-warning {
          background-color: rgba(255, 193, 7, 0.15);
        }
        .section-title {
          color: #333;
          font-size: 1.2rem;
        }
        .detail-icon {
          width: 20px;
          text-align: center;
        }
      `})]})};export{Q as default};
