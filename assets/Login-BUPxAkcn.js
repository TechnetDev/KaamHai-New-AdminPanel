import{u as j,r,j as s,B as d}from"./index-B9EhzTRJ.js";import{l as N}from"./logoKammhai-IX2xcGZp.js";import{L as b}from"./users-D9z95VUr.js";import{b as f,c as v}from"./index-C0wLxbQk.js";const L=()=>{j();const[o,m]=r.useState(""),[n,g]=r.useState(""),[t,p]=r.useState(""),[l,h]=r.useState(!1),u=()=>{h(a=>!a)},x=async a=>{var i,c;a.preventDefault();try{const e=await b({phoneNumber:o,password:n});e.success?(d.success(`${e.message}`),localStorage.setItem("token",e.token),localStorage.setItem("adminData",JSON.stringify(e.data)),window.location.href="/"):d.error(`${e.message}`)}catch(e){console.error(e),p(((c=(i=e.response)==null?void 0:i.data)==null?void 0:c.message)||"Login failed")}};return s.jsx("div",{className:"main-wrapper login-body",children:s.jsx("div",{className:"container-fluid px-0",children:s.jsx("div",{className:"row",children:s.jsx("div",{className:"col-lg-12 login-wrap-bg",children:s.jsx("div",{className:"login-wrapper",children:s.jsx("div",{className:"loginbox",children:s.jsx("div",{className:"login-right",style:{backgroundColor:"#fff",borderRadius:35},children:s.jsxs("div",{className:"login-right-wrap",children:[s.jsx("div",{className:"account-logo",children:s.jsx("a",{children:s.jsx("img",{src:N,alt:""})})}),s.jsx("h2",{children:"Login"}),t&&s.jsx("div",{className:"alert alert-danger",children:t}),s.jsxs("form",{onSubmit:x,children:[s.jsxs("div",{className:"input-block",children:[s.jsxs("label",{children:["Phone Number ",s.jsx("span",{className:"login-danger",children:"*"})]}),s.jsx("input",{className:"form-control",type:"number",value:o,onChange:a=>m(a.target.value),required:!0})]}),s.jsxs("div",{className:"input-block position-relative",children:[s.jsxs("label",{children:["Password ",s.jsx("span",{className:"login-danger",children:"*"})]}),s.jsx("input",{className:"form-control pass-input",type:l?"text":"password",value:n,onChange:a=>g(a.target.value),required:!0}),s.jsx("span",{className:"password-toggle-icon",onClick:u,style:{position:"absolute",top:"70%",right:"15px",transform:"translateY(-50%)",cursor:"pointer",color:"#555"},children:l?s.jsx(f,{}):s.jsx(v,{})})]}),s.jsx("div",{className:"forgotpass"}),s.jsx("div",{className:"input-block login-btn",children:s.jsx("button",{className:"btn btn-primary btn-block",type:"submit",children:"Login"})})]}),s.jsx("div",{className:"next-sign",children:s.jsxs("p",{className:"account-subtitle",children:["Need an account?"," ",s.jsx("a",{href:"https://wa.me/917902367359",target:"_blank",rel:"noopener noreferrer",children:"Sign Up"})]})})]})})})})})})})})};export{L as default};
